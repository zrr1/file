<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="EC移动场景用例" resourceRoot="" soapui-version="5.0.0" abortOnError="false" runType="SEQUENTIAL" defaultScriptLanguage="Groovy" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="&lt;all>"/>
  <con:entry key="Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
</xml-fragment>]]></con:setting></con:settings><con:testSuite name="我的账户" id="b4e6af7f-6a12-4c74-a8a5-a026e58faf96"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="注册" searchProperties="true" id="3d8a3c40-3b2a-4e56-9a7d-97da916c1ab3"><con:settings/><con:testStep type="calltestcase" name="Run TestCase" id="5c9f0c4a-e159-460b-ba88-d73a6b62597e"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>b125bdee-2131-44da-ae56-2e8dc2aea03d</con:targetTestCase><con:properties/><con:returnProperties/><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="随机获取电话号码" id="3dca0ac1-9e84-40d7-9374-bc199407d845"><con:settings/><con:config><script>def project=testRunner.testCase.testSuite.project
def random=(Integer)Math.random()*99999999
def phoneNumber=((long)99900000000+random)
def emailAddress="springTest@springTest${random}.com"
def props=testRunner.testCase.getTestStepByName("注册信息")

props.setPropertyValue("regPhone",phoneNumber.toString())
project.setPropertyValue("emailAddress",emailAddress.toString())
</script></con:config></con:testStep><con:testStep type="httprequest" name="请求发送验证码" id="68331f7b-4528-4abf-94dc-0f258101047a"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="请求发送验证码" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/getValidateCode</con:endpoint><con:request>{
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.79",
    "phoneNo": "${注册信息#regPhone}",
    "subTerminalType": "i",
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "flag": "0",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="15e4082b-4864-45b8-a919-e9625dbfdf3c"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a8c4c7f1-a7d3-4196-b80f-5a7a058f2bd0"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="912d97af-9ff7-4fc5-91cb-d9545f4d9d3a"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="groovy" name="查询数据库获取验证码" id="716543ac-5625-4ede-b246-71010ba00ca5"><con:settings/><con:config><script>import groovy.sql.Sql

//def db_ip="192.168.210.233"
//def db_sid="orcl"
//def db_name="cqsale"
//def db_pwd="cqsale"
def db_ip="192.168.210.42"
def db_port="1521"
def db_sid="spring"
def db_name="cqsale"
def db_pwd="cqsale"
def props=testRunner.testCase.getTestStepByName("注册信息")
def phone=props.getPropertyValue("regPhone")

def sqlStr="select * from TB_SMS_DOWN where mobile = '${phone}'  order by CREATE_TIME desc"
def sql=Sql.newInstance("jdbc:oracle:thin:@${db_ip}:${db_port}:${db_sid}",db_name,db_pwd,"oracle.jdbc.driver.OracleDriver")
def row=sql.firstRow(sqlStr)
if(null != row){
	def content = row.CONTENT
     def index=content.indexOf("验证码:")
     if(index != -1){
     	props.setPropertyValue("validateCode",content.substring(index+4,index+10))
     }  
}else{
	return "没有收到短信验证码"
}
</script></con:config></con:testStep><con:testStep type="properties" name="注册信息" id="ccbacbab-85d3-4583-a8bb-7f0ff16f7dfe"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>regName</con:name><con:value>springTest</con:value></con:property><con:property><con:name>validateCode</con:name><con:value>662174</con:value></con:property><con:property><con:name>regPhone</con:name><con:value>99922831238</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="电话注册" id="6201b227-b1ef-4d33-96eb-8a363f708e63"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="电话注册" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/userRegister</con:endpoint><con:request>{
    "remoteIP": "192.168.9.79",
    "bind": "0",
    "channelId": "-2",
    "mobileType": "iphone",
    "moneyClassId": "0",
    "userId": "",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "versionNo": "5.2.0",
    "realName": "${注册信息#regName}",
    "password": "${#Project#regPasswd}",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "loginId": "",
    "terminalType": "i",
    "advertisingUUID": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "ipAddress": "192.168.9.79",
    "subTerminalType": "i",
    "usersIdFk": "",
    "language": "zh_CN",
    "validateCode": "${注册信息#validateCode}",
    "phoneNo": "${注册信息#regPhone}",
    "lang": "zh_CN",
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3d390483-2011-418f-add0-b77d0575b72a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="59b78e31-fe72-4be0-ab8c-db7ee4750e9a"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="cd2f1d7b-ac21-4ad9-b9c9-8b3417ab49ab"><con:configuration><token>loginInfo</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录userId和regPhone" id="ddf64636-6ef6-4a38-8de5-b7fbbcd3cae8"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def project=context.testCase.testSuite.project

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
project.setPropertyValue("userId",response.loginInfo.userId.toString());
project.setPropertyValue("regPhone",response.loginInfo.cellPhoneNo);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="邮箱注册" id="20a4a799-94e9-447e-92c2-d826520c7632"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="邮箱注册" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/registerByEmail</con:endpoint><con:request>{
    "password": "${#Project#regPasswd}",
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "userId": "",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "loginId": "",
    "channelId": "-2",
    "usersIdFk": "",
    "terminalType": "i",
    "moneyClassId": "0",
    "email": "${#Project#emailAddress}",
    "custFamilyName": "${注册信息#regName}",
    "remoteIP": "192.168.9.79",
    "subTerminalType": "i",
    "versionNo": "5.2.0",
    "lang": "zh_HK",
    "flag": "1",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="4c886889-9027-4999-ab94-8d76a9b04ad8"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="adeb0223-ee47-4aec-b923-3b8af69222b1"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="84d7f619-7bef-4b72-9c59-9a17c2b5e4e9"><con:configuration><token>"result":"0"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="Properties" id="fb4ecb05-1a38-4ea9-9723-ea75db783dec"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>去v</con:name><con:value>去</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="HTTP Test Request" id="e9cd7a1c-8b86-4d85-9eea-8ad26ed9ed57"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="HTTP Test Request" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:endpoint/><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="用户信息" searchProperties="true" id="b125bdee-2131-44da-ae56-2e8dc2aea03d"><con:settings/><con:testStep type="httprequest" name="用户登录" id="26510d51-b308-4888-8c90-a6a8e86f0830"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="用户登录" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/userLogin</con:endpoint><con:request>{
    "vendorId": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "deviceSNPlus": "19fd22d51fa3f25cccff9ec27487bbcf",
    "loginId": "${#Project#regPhone}",
    "loginPwd": "${#Project#regPasswd}",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "lang": "zh_CN",
    "subTerminalType": "i",
    "versionNo": "5.2.0",
    "remoteIP": "192.168.9.79",
    "bindStr": "0",
    "advertisingUUID": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "deviceSN": "7C43C769-97F5-49FF-B740-1930FE35F37F"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a3993ed1-14df-44b6-81a0-bc542248547f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="3a15715c-e3bb-4417-a382-f76c336a7c91"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="90a53633-2379-42b9-943f-5907619d712c"><con:configuration><token>userId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录custId" id="03e50e88-5414-4619-983c-2e0d22ca4cd5"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def project=context.testCase.testSuite.project

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
project.setPropertyValue("custId",response.custId);
//log.info response</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="获取用户信息" id="495b75e2-0aa5-4804-987c-774d59d9b44e"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="获取用户信息" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/getUserInfo</con:endpoint><con:request>{
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "loginId": "",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.79",
    "subTerminalType": "i",
    "lang": "zh_CN",
    "versionNo": "5.2.0",
    "custId": "${#Project#custId}",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ab4f13ec-8d5e-42a1-86f3-1d69f4db4f7d"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="4207752f-7eef-4c82-b8da-3c0d74e35762"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="df85ba12-d145-494f-92ea-5cca1eb391db"><con:configuration><token>getCustInfoDto</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="修改用户信息" id="822a392a-592a-4f78-9d17-b6142279a55f"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="修改用户信息" downloadIncludedResources="false" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/modifyUserInfo</con:endpoint><con:request>{
    "familyName": "springTestModify",
    "remoteIP": "192.168.9.79",
    "moneyClassId": "0",
    "channelId": "-2",
    "cardTypeId": "2",
    "cellphoneNo": "${#Project#regPhone}",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "sex": 1,
    "custId": "${#Project#custId}",
    "versionNo": "5.2.0",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "loginId": "${#Project#regPhone}",
    "birthday": "1990-01-30",
    "terminalType": "i",
    "subTerminalType": "i",
    "cardNo": "test123",
    "lang": "zh_CN",
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="d5e98f51-10a9-468d-825c-b0170b34502a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="73d9dd81-f8f5-4001-bd39-44be410b771e"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="5893d143-4bd3-4efe-9186-06cfa699e696"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="修改用户密码" id="823b1b8e-3d1c-4301-920b-f6467ad40e2a"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="修改用户密码" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/modifyPassword</con:endpoint><con:request>{
    "vendorId": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "deviceSNPlus": "19fd22d51fa3f25cccff9ec27487bbcf",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.47",
    "subTerminalType": "i",
    "newPassword": "${#Project#newPasswd}",
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "oldPassword": "${#Project#regPasswd}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="76872219-1b47-47f8-be07-e416ea618246"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="30649ac0-13f9-4102-a15e-ed6729d917b5"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="79332dd0-90c8-41ec-8cdd-bdd84ba53ad4"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="改回原始用户密码" id="1fcf3989-3821-428b-bf28-06066da0d102"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="改回原始用户密码" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/modifyPassword</con:endpoint><con:request>{
    "vendorId": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "deviceSNPlus": "19fd22d51fa3f25cccff9ec27487bbcf",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.47",
    "subTerminalType": "i",
    "newPassword": "${#Project#regPasswd}",
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "7C43C769-97F5-49FF-B740-1930FE35F37F",
    "oldPassword": "${#Project#newPasswd}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="67e4e9c6-1cb6-4eac-af74-a7ad0fde85b0"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="cbf5a028-13e2-4065-b432-192b2946c131"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="005a48c8-1e32-4b92-a23e-eb2e37cd796c"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="获取所有用户头像" id="b78ddb91-d88d-4c62-abba-2191d7f5a34e"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="获取所有用户头像" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/getAllUserImgList</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="67c50d6f-734c-475e-b215-b7d2a472212f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="9da5e495-c52d-472e-9335-63356c8562e7"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="763d3a47-b805-4967-a149-87546b5c0ed1"><con:configuration><token>userImgList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="随机选取用户图像" id="3523fb38-4128-4173-9a3f-b3703151251d"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def project=context.testCase.testSuite.project

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def num=response.userImgList.size()
def index=(int)Math.random()*num
project.setPropertyValue("imgName",response.userImgList[index].imgName);</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="修改用户头像" id="53155d03-b1fd-485b-aa1c-ad01b531f6ef"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="修改用户头像" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/saveOrUpdataImage</con:endpoint><con:request>{
    "vendorId": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "deviceSNPlus": "a6d9c9186f7cadaea635b3a19ebb0ea6",
    "loginId": "${#Project#regPhone}",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "versionNo": "5.2.0",
    "subTerminalType": "i",
    "remoteIP": "192.168.9.47",
    "lang": "zh_CN",
    "imgUrl": "${#Project#imgName}",
    "deviceSN": "D3CF1BEE-4FCC-471D-8606-0C8B0A5DE09A"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7aa5bc93-91d6-42ac-ba02-34299251e9e5"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="245e70e3-7ada-4c3e-86f2-426d2984b54b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="ab8b3ce0-5ccc-4891-9799-b5112c82fba2"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="获取用户限制类型" id="8556a468-844e-491b-a9b2-a29344ce1d74"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="获取用户限制类型" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/login/queryUserRestrict</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "versionNo": "5.2.0",
    "subTerminalType": "i",
    "remoteIP": "192.168.9.74",
    "lang": "zh_CN",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="29dc85ab-0f04-4cb8-a922-530e443a7bd1"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="82ef5eba-5357-49c7-b5a6-478b6a794d56"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2d9b75b2-fb72-4431-a3c8-0742393c7d0f"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:setupScript/><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="常旅客" searchProperties="true" id="e3655820-6110-4d6e-b195-1b0274a32455"><con:settings/><con:testStep type="httprequest" name="增加常旅客" id="b184c7d7-0401-418f-be7a-9cadcedf2701"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="增加常旅客" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/userCust/insertUserCust</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ba3e5270-dad3-41c3-8169-c2ea6b482108"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a0004e4a-b100-42c3-b53e-d5cc4b54a2b4"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>passportExpireDate1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("2016-12-19")}</con:value><con:style>QUERY</con:style><con:default>J2PG5oqKwJkc+y4YiofdOw==</con:default></con:parameter><con:parameter><con:name>cardNo1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("123456789")}</con:value><con:style>QUERY</con:style><con:default>KPXFz+YFtu8J94A1vzmeEw==</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.2.0</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>nameCN</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("测试")}</con:value><con:style>QUERY</con:style><con:default>X89yjAtSrgQ=</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>tel</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#regPhone}.toString())}</con:value><con:style>QUERY</con:style><con:default>KPXFz+YFtu8J94A1vzmeEw==</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#regPhone}.toString())}</con:value><con:style>QUERY</con:style><con:default>+3RZjSgHpBhjxjcvNTKZkQ==</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>cardType1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("2")}</con:value><con:style>QUERY</con:style><con:default>a3hi1Mglgwo=</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>birthdate</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("1995-10-24")}</con:value><con:style>QUERY</con:style><con:default>/a+XNprzzRlKGHBU92R6Ew==</con:default></con:parameter><con:parameter><con:name>gender</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("1")}</con:value><con:style>QUERY</con:style><con:default>1e+O8tsW+mE=</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询常旅客" id="2ec8581a-1fe7-4910-a026-534c86da4bcd"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询常旅客" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/userCust/queryUserCust</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a84ebafb-0913-4996-91d3-e4d45484ff1e"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="87dbf7ed-b74e-457b-8149-437399427850"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录userCustId" id="5049880a-be38-45e0-8522-3712bdcb72fa"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def project=context.testCase.testSuite.project

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def userCustId=response.list[0].userCustId
project.setPropertyValue("userCustId",com.springairlines.util.DESCrypter.decodeLong(userCustId));</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>4998bce22f57a4c4bdeb516e6abe5a61</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>custType</con:name><con:value>1</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.2.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>pageNo</con:name><con:value>1</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="修改常旅客" id="59e2b1e8-3310-433d-b859-2b51e606908c"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="修改常旅客" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/userCust/modifyUserCust</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3e6a5597-5fe6-473f-93d7-3e361564f64a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="dd88c1a0-3089-4d5a-975e-d4e0841ed9e4"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>passportExpireDate1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("2016-12-19")}</con:value><con:style>QUERY</con:style><con:default>J2PG5oqKwJkc+y4YiofdOw==</con:default></con:parameter><con:parameter><con:name>cardNo1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("987654321")}</con:value><con:style>QUERY</con:style><con:default>Me0v+a11wiDFCX9OIhXqGQ==</con:default></con:parameter><con:parameter><con:name>userCustId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userCustId}.toString())}.toString())}</con:value><con:style>QUERY</con:style><con:default>71yLzQol4EOJNJNUvxzA0iBDuhU2ahd1</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.2.0</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>nameCN</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("测试")}</con:value><con:style>QUERY</con:style><con:default>phNymMVwx84=</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>tel</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#regPhone}.toString())}</con:value><con:style>QUERY</con:style><con:default>2HwEs43ynjZVt3vSBCrLmQ==</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style><con:default>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:default></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#regPhone}.toString())}</con:value><con:style>QUERY</con:style><con:default>+3RZjSgHpBhjxjcvNTKZkQ==</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>cardType1</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("2")}</con:value><con:style>QUERY</con:style><con:default>a3hi1Mglgwo=</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>birthdate</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("1995-10-24")}</con:value><con:style>QUERY</con:style><con:default>/dQ5+x6duuKaXKP6g9S3Bg==</con:default></con:parameter><con:parameter><con:name>gender</con:name><con:value>${=com.springairlines.util.DESCrypter.encode("1")}</con:value><con:style>QUERY</con:style><con:default>1e+O8tsW+mE=</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style><con:default>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="删除常旅客" id="01d91b7e-8241-45ab-ac7d-a31820ef2333"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="删除常旅客" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/userCust/deleteUserCust</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="bd26ee1c-29a6-4e4e-aea7-867a734f3676"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="58836b86-9369-4b49-a93e-7ac065f9b0f6"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13611111111</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014524214746</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>userCustId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#userCustId}.toString())}</con:value><con:style>QUERY</con:style><con:default>71yLzQol4ENhLM1rBt6ukOtQ6MZSGPwo</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.2.0</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style><con:default>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="机票预订" id="239b8b53-e0b9-426b-bf05-4a16beac36be"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="辅助功能" searchProperties="true" id="456fa361-af3a-4f39-b4d6-e28095061948" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="properties" name="航班信息" id="c309e950-9b6a-4dd7-9845-b65171c245b9"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>CAN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+1).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9C8835</con:value></con:property><con:property><con:name>segId</con:name><con:value>539052</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>R4</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="首页轮播" id="8fe808b4-bb82-4705-b581-3f923669b1d9"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="首页轮播" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/advertisement/queryAdvertisement</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="747446c4-caa2-4e00-9960-1e566bacbb1f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8cf7f9ee-50d6-4bf1-982d-72c7cb62b788"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="265b7570-9ec6-47d4-9d12-9061e8f9fd7d"><con:configuration><token>advertisementDtos</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>adTemplateCode</con:name><con:value>AD_P_005</con:value><con:style>QUERY</con:style><con:default>AD_P_005</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>i</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="机票查询页Banner广告" id="34f94d46-c651-46cc-8557-c090a02980e0"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="机票查询页Banner广告" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryAd.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7541dc83-d1f7-4597-8be6-bc128c328c1a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="145d9729-856b-4855-8961-b06ae5cd4b6c"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="9a416a7a-1f66-49fa-960a-e9f81c860546"><con:configuration><token>advertisementDtos</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryAdvertisementByTempCode_G_500_I_400</con:value><con:style>QUERY</con:style><con:default>queryAdvertisementByTempCode_G_500_I_400</con:default></con:parameter><con:parameter><con:name>adTemplateCode</con:name><con:value>AD_P_001</con:value><con:style>QUERY</con:style><con:default>AD_P_001</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询航班日历" id="00d72a3a-48d9-4636-ab52-e18f16961b45"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班日历" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryFlightCalendar.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="d900fc83-8071-46c7-a118-eac734abdb85"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="0fb68353-de85-4c2b-b5df-dad3d813f662"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="05eee248-0dd5-4e7d-abe2-cd6a8e76f021"><con:configuration><token>flightCalendarMap</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryFlightCalendar_G_500_I_400</con:value><con:style>QUERY</con:style><con:default>processQueryFlightCalendar_G_500_I_400</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>oriCityCode</con:name><con:value>${航班信息#fromCity}</con:value><con:style>QUERY</con:style><con:default>SHA</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>destCityCode</con:name><con:value>${航班信息#toCity}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>BHY</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据" id="bc90ecce-f7f4-4b5b-b5b9-1a59b900f7d6"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="1cb96772-fb57-4cda-aa34-cb4b6e4fde45"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c50b3908-c5b0-4919-83aa-0890c28d73d5"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="479c17a6-5aca-4b0c-8655-b7ab532da2e4"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息" id="51602975-8d41-4a7b-a467-a0ee28bfc6b5"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("航班信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	props.setPropertyValue("flightNo",queryList[0].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[0].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[0].moreCabins.listNormCabin[0].cabinName))
	
	log.info queryList[0].NO
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${航班信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${航班信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${航班信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询指定舱位各项价格" id="96014a03-7ed2-47f5-83f7-ff558d8d2d31"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询指定舱位各项价格" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightDetailPriceService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3a87dd4a-77fb-4899-8620-cce6e1013385"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f42a0b2a-7ae1-42d7-9f97-ebd36b4b8ad0"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="3680be51-ffe1-4618-bb94-cefb2100d636"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryFlightDetailPrice</con:value><con:style>QUERY</con:style><con:default>processQueryFlightDetailPrice</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>uid</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014573814646</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode(${#Project#regPhone}.toString())}</con:value><con:style>QUERY</con:style><con:default>13222222222</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goFlightSeg</con:name><con:value>${航班信息#fromCity}${航班信息#toCity}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>PVGBHY</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>gs</con:name><con:value>520457</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>522620</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goFlightRouteId</con:name><con:value>1278</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1278</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goFlightRouteFlag</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goFlightDateTime</con:name><con:value>20141128 09:00</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>20141028 09:00</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goTimeStyle</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goFlightNo</con:name><con:value>9C7011</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>9C7011</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goCompanyId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>goRouteAreaFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backFlightSeg</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backFlightRouteId</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backFlightRouteFlag</con:name><con:value>-1</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>-1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backFlightDateTime</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backTimeStyle</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backFlightNo</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>backCompanyId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>backRouteAreaFlag</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>sc</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>-2</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>g</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>cid</con:name><con:value>99317346c6c4e57c18ff324568b0436a</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>99317346c6c4e57c18ff324568b0436a</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>d</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>c</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>a</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>gcf</con:name><con:value>P</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>P</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>bcf</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="请求航班最低价列表" id="e7899109-b834-43ac-890b-668fb3a1656e"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="请求航班最低价列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/wl/s/queryLowestPricesOfSpecSeg.wl</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a43d11d3-1f1a-4761-8f70-63974b26c57a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="d04ea08d-4ac2-4334-91af-9be91dd83171"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${航班信息#fromCity}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>SHA</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${航班信息#toCity}</con:value><con:style>QUERY</con:style><con:default>BHY</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${=(new Date()+10).format("yyyyMMdd")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>20141028</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>-99</con:value><con:style>QUERY</con:style><con:default>-99</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lcNum</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>2</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取动态密钥" disabled="true" id="14613e1a-6381-4e4c-8460-87a6e7f76dbd"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取动态密钥" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/secretKey/movieStar</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.74</con:value><con:style>QUERY</con:style><con:default>192.168.9.74</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.2.0</con:value><con:style>QUERY</con:style><con:default>5.2.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>2040DD56-ADD0-42B8-B7B6-7B2F3627C793</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2040DD56-ADD0-42B8-B7B6-7B2F3627C793</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>0d1e7d1c795c83fb7819da0e90b7259c</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0d1e7d1c795c83fb7819da0e90b7259c</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>2040DD56-ADD0-42B8-B7B6-7B2F3627C793</con:value><con:style>QUERY</con:style><con:default>2040DD56-ADD0-42B8-B7B6-7B2F3627C793</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="groovy" name="Copy of Encode" disabled="true" id="9a3cf657-a178-4266-bc2c-2628b31d1de8"><con:settings/><con:config><script>import com.springairlines.util.DESCrypter;
import java.net.URLDecoder;
import java.text.SimpleDateFormat;

def str1="25beba3b65454427"
def str2="3e3ce40b701ee001f9f4babe376d9805"
def str3="uCsCE/KY96YWfdQkedlNCQ=="

//def xxx = URLDecoder.decode(str2)
log.info DESCrypter.decode(str3)
//log.info DESCrypter.decodeOrder(str2,"g","5.1.5")
//log.info DESCrypter.decodeNew(str2)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="预订_取消机票" searchProperties="true" id="462ba180-e236-4ff9-a3af-618028026758"><con:settings/><con:testStep type="groovy" name="随机生成字母串" id="771af1b9-6f04-4499-8d45-f0067532f1ac"><con:settings/><con:config><script>def length=5
def str=""
for(int i=0;i&lt;length;i++){
	char c="A"
	c=(char)(c+(int)(Math.random()*26))
	str=str+c
}
return str
</script></con:config></con:testStep><con:testStep type="properties" name="航班信息" id="c5bdb3f2-0fa6-43ac-bd6b-57d4efab2e1c"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" discardValuesOnSave="false" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>CAN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+1).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9C8835</con:value></con:property><con:property><con:name>segId</con:name><con:value>539144</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>R4</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNRA</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338429</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据" id="159a0ce1-55a4-4872-ba46-a9bb6d9dd7a5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="556f8c0b-dfca-4089-b72a-e543dd9b7afe"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fe8729d8-5e5b-46af-a381-ec9ee12afc66"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="299a50bf-7228-41fc-b413-dce9c49011f4"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息" id="ff34619a-b73d-4dc2-b214-44f314b762d7"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("航班信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	props.setPropertyValue("flightNo",queryList[0].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[0].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[0].moreCabins.listNormCabin[0].cabinName))
	
	log.info queryList[0].NO
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${航班信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${航班信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${航班信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成订单" id="cc36c488-7512-49a8-8aa2-b8bb3bdf33af"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成订单" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/bookOrderV520/apply</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "loginId": "${#Project#regPhone}",  
    "usersIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}", 
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "expendField": "AID3GIN,,20141106111025214,CD151D66A45D4FE2A8949F445796D2A1",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.74",
    "subTerminalType": "i",
    "orderBean": {
        "firstSegId": "${航班信息#segId}",
        "ifInsWF": "0",
        "secondChildInfo": [],
        "thirdAdultInfo": [],
        "linkMan": {
            "linkmanMobile": "${#Project#regPhone}",
            "linkmanAddr": "",
            "linkmanName": "springTest",
            "linkmanWorkTel": "${#Project#regPhone}",
            "linkmanPrivateTel": "${#Project#regPhone}",
            "linkmanEmail": "${#Project#emailAddress}",
            "linkmanZip": ""
        },
        "thirdInfantInfo": [],
        "secondSegAdultCabin": "",
        "goFlightDate": "${航班信息#flightDate}",
        "infantNum": "0",
        "thirdSegId": "0",
        "childNum": "0",
        "firstInfantInfo": [],
        "secondSegId": "0",
        "saleTypeDetail": "3",
        "adultNum": "1",
        "lcType": "N",
        "ifPrint": "0",
        "firstChildInfo": [],
        "ifMail": "0",
        "thirdChildInfo": [],
        "ifYhPolicy": "Y",
        "disclaimerBean": [],
        "ifDelivery": "0",
        "ifLegal": "1",
        "firstSegAdultCabin": "${航班信息#cabinName}",
        "paramBeanOfManageDeliveryAddress": {},
        "secondInfantInfo": [],
        "thirdSegAdultCabin": "",
        "retFlightDate": "",
        "secondAdultInfo": [],
        "firstAdultInfo": [
            {
                "isNational": "0",
                "age": "0",
                "countryOfIssue": "",
                "passportExpireDate": "",
                "tktCrewType": "0",
                "familyName": "soap${随机生成字母串#result}",
                "cardTypeId": "2",
                "userCustId": "new",
                "birthdate": "1983-11-06",
                "insuranceInfo": [
                    {
                        "insurNum": "1",
                        "insurBeneType": "0",
                        "insurProdId": "53",
                        "insurCompId": "3"
                    }
                ],
                "gender": "0",
                "xprodInfo": [],
                "nationality": "",
                "cardNo": "${=(Integer)Math.random()*99999999}",
                "phoneNo": "18915489632"
            }
        ]
    },
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="06baf8c2-829e-49ae-9dff-0763557ad9be"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="92010e2b-b7f8-4cf3-a39b-9de9cb620ff9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="05d368c7-5a46-4f03-9899-173112533c87"><con:configuration><token>orderNo</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo" id="b0246a32-b563-4ebc-bb70-e0b5160a2bac"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("航班信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
if (null != orderNo){
	props.setPropertyValue("orderNo",orderNo)
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表" id="d43b3840-705f-41c5-a6f6-d17a18a3d0c2"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${航班信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",
    "terminalType": "mweb",
    "userId": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="fa46b122-8ae6-4ad3-a6a4-518d61fcfb1a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="483f7711-584f-4d3d-b1ab-4081a139aab4"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="987470f5-cd42-450b-9283-f2358bf90c6d"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情" id="a895ea90-6905-4283-b194-5af80f007d75"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3a14c41e-5ad8-41e8-a088-255db180a676"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ae8eb7da-22e0-4a52-9875-789b4b3a3814"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="a85bacb2-62c3-40d3-907f-83a7730e31a2"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="9e891096-108f-4bab-8300-b4dcd7c1b5b1"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("航班信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${航班信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>25beba3b65454427</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单" id="1b330617-7759-4286-842b-68cc6b128281"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderCancel</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a9ce7435-b842-4a0b-b32a-fe4a2364b2a4"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="845acfe8-0e3a-401d-9942-37925e75d39c"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="0ad72cac-0cef-4461-b8e9-e3bd5ec0b51b"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${航班信息#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="预订_支付_退票_无增值产品" searchProperties="true" id="496aaea7-b167-4fb2-a5aa-4efbb1eb37ba"><con:settings/><con:testStep type="groovy" name="随机生成乘机人姓名" id="c10fa966-623c-45c7-a854-63c0d90f5e7b"><con:settings/><con:config><script>def length=5
def str=""
for(int i=0;i&lt;length;i++){
	char c="A"
	c=(char)(c+(int)(Math.random()*26))
	str=str+c
}
return str
</script></con:config></con:testStep><con:testStep type="properties" name="订单信息" id="22aea713-cc0b-43e4-8412-7c3045ebe747"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>XMN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+2).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9C1114</con:value></con:property><con:property><con:name>segId</con:name><con:value>592091</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>U</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNTX</con:value></con:property><con:property><con:name>payMoney</con:name><con:value>300.0</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338508</con:value></con:property><con:property><con:name>orderType</con:name><con:value>0${//0-机票订单,1-单独支付的辅助订单，2-航班变更申请}</con:value></con:property><con:property><con:name>orderOrigin</con:name><con:value>0${//2-mweb,3-ios，4-android，10-微信}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据" id="d0da798e-ba1d-4798-99bc-53b48cbb0ef0"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="19e2c15e-9a37-49ac-b90b-86b85e1739e0"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="5751ee6d-7c69-4bec-be9e-23a8661093c9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="d0dabdf1-ac26-43af-aff9-262c5deb3743"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息" id="0153e501-8611-4f2a-af77-94de87931808"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	def index1=(int)Math.random()*queryList.size()
	def index2=(int)Math.random()*queryList[index1].moreCabins.listNormCabin.size()
	props.setPropertyValue("flightNo",queryList[index1].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[index1].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[index1].moreCabins.listNormCabin[index2].cabinName))
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${订单信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成订单" id="238badac-7c08-4419-8942-86f72e6173b7"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成订单" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/bookOrderV520/apply</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "loginId": "${#Project#regPhone}",  
    "usersIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}", 
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "expendField": "AID3GIN,,20141106111025214,CD151D66A45D4FE2A8949F445796D2A1",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.74",
    "subTerminalType": "i",
    "orderBean": {
        "firstSegId": "${订单信息#segId}",
        "ifInsWF": "0",
        "secondChildInfo": [],
        "thirdAdultInfo": [],
        "linkMan": {
            "linkmanMobile": "${#Project#regPhone}",
            "linkmanAddr": "",
            "linkmanName": "springTest",
            "linkmanWorkTel": "${#Project#regPhone}",
            "linkmanPrivateTel": "${#Project#regPhone}",
            "linkmanEmail": "${#Project#emailAddress}",
            "linkmanZip": ""
        },
        "thirdInfantInfo": [],
        "secondSegAdultCabin": "",
        "goFlightDate": "${订单信息#flightDate}",
        "infantNum": "0",
        "thirdSegId": "0",
        "childNum": "0",
        "firstInfantInfo": [],
        "secondSegId": "0",
        "saleTypeDetail": "3",
        "adultNum": "1",
        "lcType": "N",
        "ifPrint": "0",
        "firstChildInfo": [],
        "ifMail": "0",
        "thirdChildInfo": [],
        "ifYhPolicy": "Y",
        "disclaimerBean": [],
        "ifDelivery": "0",
        "ifLegal": "1",
        "firstSegAdultCabin": "${订单信息#cabinName}",
        "paramBeanOfManageDeliveryAddress": {},
        "secondInfantInfo": [],
        "thirdSegAdultCabin": "",
        "retFlightDate": "",
        "secondAdultInfo": [],
        "firstAdultInfo": [
            {
                "isNational": "0",
                "age": "0",
                "countryOfIssue": "",
                "passportExpireDate": "",
                "tktCrewType": "0",
                "familyName": "soap${随机生成乘机人姓名#result}",
                "cardTypeId": "2",
                "userCustId": "new",
                "birthdate": "1983-11-06",
                "insuranceInfo": [
                    {
                        "insurNum": "1",
                        "insurBeneType": "0",
                        "insurProdId": "53",
                        "insurCompId": "3"
                    }
                ],
                "gender": "0",
                "xprodInfo": [],
                "nationality": "",
                "cardNo": "${=(Integer)Math.random()*99999999}",
                "phoneNo": "18915489632"
            }
        ]
    },
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a5033b56-fe3e-489b-ab95-a9da35cca940"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="4870b11c-d809-4c55-b265-d1394218a52b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="bb3dac6d-2bf6-4257-8737-6e4731656393"><con:configuration><path>declare namespace ns1='http://192.168.210.52/ECommercePlatform/m/bookOrderV520/apply';
//ns1:ifSuccess</path><content>Y</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo" id="b07bbf78-9181-4ad0-9952-f96d2508c72c"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
def payMoney=response.payMoney
if (null != orderNo&amp;&amp;""!=orderNo){
	props.setPropertyValue("orderNo",response.orderNo.toString())
	props.setPropertyValue("payMoney",response.payMoney.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表" id="0589bd6c-7bdc-4d8a-b7ae-20fc2be4726e"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${订单信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",

    "userId": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}", 
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7ac7b447-87ff-49a1-8f72-0327d538312a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="223cf094-08ca-4ae1-b1fc-b0063135d2c8"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="aed1c8a7-d0ab-44c7-b8f0-16581bd27c3f"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录支付信息" id="0c10a9bc-0ff5-4c4f-82c0-f1f203c19ef0"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def random1=(int)Math.random()*3
def subgateways=response.gatewayList[random1].subGateways
def random2=(int)Math.random()*subgateways.size()
def gateway=subgateways[random2]

if (null != gateway){
	props.setPropertyValue("payGate",gateway.payGate.toString())
	props.setPropertyValue("moneyClassId",gateway.moneyClassId.toString())
	props.setPropertyValue("accountsMemo",gateway.accountsMemo.toString())
	props.setPropertyValue("payGateFyRate",gateway.payGateFyRate.toString())
	props.setPropertyValue("payAccounts",gateway.payAccounts.toString())
	props.setPropertyValue("gateFlag",gateway.gateFlag.toString())
	props.setPropertyValue("subPayGateName",gateway.subPayGateName.toString())
	props.setPropertyValue("paymentUrl",gateway.paymentUrl.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="支付信息" id="5ad7d91a-4795-44ea-a53a-9d8a768c421d"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>payGate</con:name><con:value>34</con:value></con:property><con:property><con:name>moneyClassId</con:name><con:value>0</con:value></con:property><con:property><con:name>accountsMemo</con:name><con:value/></con:property><con:property><con:name>payGateFyRate</con:name><con:value>0.0</con:value></con:property><con:property><con:name>payAccounts</con:name><con:value>2088101909164661</con:value></con:property><con:property><con:name>gateFlag</con:name><con:value>4</con:value></con:property><con:property><con:name>subPayGateName</con:name><con:value>支付宝</con:value></con:property><con:property><con:name>paymentUrl</con:name><con:value>http://192.168.210.52:8092/SpringPay/alipay/payment?action=payment&amp;terminalType=mweb&amp;userId=2100014593014646&amp;reqData=payment|MOZNTX|300.0|34|0|0|0|mweb|2088101909164661|zh_cn|300.0|none&amp;convertMoneyClassId=0</con:value></con:property><con:property><con:name>payIPS</con:name><con:value>004417190</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="生成支付流水号" id="6a987103-b709-4aea-bc5b-7fe09ad9a0af"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="生成支付流水号" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${支付信息#paymentUrl}</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ecf7eef7-beea-444d-b2f0-2013bf7656be"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ccce42a0-368e-464f-8065-16e7be39fbfc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询流水号" id="eac9f043-3249-49bc-8132-739b62aede42"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="查询流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/queryIPSId</con:endpoint><con:request>{
    "orderType": "0",
    "orderNo": "${订单信息#orderNo}",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_CN"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="01469caa-fc18-4455-b80f-7bafc4a39c9f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b32558af-f77b-43fc-b580-fb59be202b13"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="c9b03255-8c5d-48de-971c-d471e03f5ab7"><con:configuration><token>ipsId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="记录流水号" id="9ef35d10-c453-4e09-8f31-1260fcf20032"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="记录流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordOrderIps</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dc52eca4-74ae-4a0d-b13a-9b9462bf8cb4"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fb7107b3-64f7-4e9a-b4af-c81bf548eb6b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="1e40bf77-f28f-4aa8-bacf-d7522e94ebeb"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="bb16260c-3485-40fe-a7af-fc90a9b7e146"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payIPS=response.payIPS
if (null != payIPS&amp;&amp;""!=payIPS){
	props.setPropertyValue("payIPS",payIPS.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderOrigin</con:name><con:value>${订单信息#orderOrigin}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderType</con:name><con:value>${订单信息#orderType}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMemo</con:name><con:value>${支付信息#accountsMemo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payAccount</con:name><con:value>${支付信息#payAccounts}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="模拟应答" id="6ad01d28-adfc-4a2a-9dd8-c9c66ff6235d"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="模拟应答" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordYinda</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dddb6e49-3833-4e8b-bee6-376a7e737125"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="67abfd0d-fa92-4d20-acf5-f0a2f622ad79"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="dfa4c390-64a6-4358-b7b9-e832a5136449"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>payIPS</con:name><con:value>${支付信息#payIPS}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payStatus</con:name><con:value>1001</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>tpPayNO</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>isCredit</con:name><con:value>N</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>ccvc</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardName</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardPhone</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardType</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情" id="5b58b162-09da-42f4-a447-4c6f815e9129"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="88c1dfcb-d8ab-49e2-bba1-074fe04bc0bf"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="70844784-87c9-4c24-9542-99c7e74c1bae"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2d36d028-ac83-4416-912c-5ce1b332c103"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="4f813bb2-b77d-460e-afab-f44900121747"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>25beba3b65454427</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="退票" id="9a11045e-6c3f-499b-bcec-ab34870f0772"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="退票" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7855d947-6a8b-4e14-9467-ca2a146c1f0d"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a5b6efb6-690c-4c92-80c3-9a6d9ce12ccd"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="0c963d98-bc24-4f17-b0e8-e43600abd6b2"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>13222222222</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderHeadId}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>b67169a7e2f6d116f9f4babe376d9805</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>orderDishonour</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单" id="a526c54e-a920-4f8d-b395-8ce782ea6e40"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderCancel</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="cee4f946-14b3-47e1-aaad-a3bf9df14427"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a36b0590-28d6-4687-a733-f5774954e526"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="预订_支付_退票_带增值产品" searchProperties="true" id="69596767-426c-42e5-ac8a-1c5f4e3af7a0"><con:settings/><con:testStep type="groovy" name="随机生成乘机人姓名" id="34e54844-2528-49bd-92b8-05f0d09c3d51"><con:settings/><con:config><script>def length=5
def str=""
for(int i=0;i&lt;length;i++){
	char c="A"
	c=(char)(c+(int)(Math.random()*26))
	str=str+c
}
return str
</script></con:config></con:testStep><con:testStep type="properties" name="订单信息" id="987f4eed-2046-4908-86a4-748a6cf417b3"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>XMN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+2).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9A0000</con:value></con:property><con:property><con:name>segId</con:name><con:value>481338</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>P</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNTX</con:value></con:property><con:property><con:name>payMoney</con:name><con:value>300.0</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338509</con:value></con:property><con:property><con:name>orderType</con:name><con:value>0${//0-机票订单,1-单独支付的辅助订单，2-航班变更申请}</con:value></con:property><con:property><con:name>orderOrigin</con:name><con:value>0${//2-mweb,3-ios，4-android，10-微信}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据" id="ab9a4eec-6f43-4b5d-b733-b92607078ab5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="19e2c15e-9a37-49ac-b90b-86b85e1739e0"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="5751ee6d-7c69-4bec-be9e-23a8661093c9"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="d0dabdf1-ac26-43af-aff9-262c5deb3743"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息" id="0153e501-8611-4f2a-af77-94de87931808"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	def index1=(int)Math.random()*queryList.size()
	def index2=(int)Math.random()*queryList[index1].moreCabins.listNormCabin.size()
	props.setPropertyValue("flightNo",queryList[index1].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[index1].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[index1].moreCabins.listNormCabin[index2].cabinName))
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${订单信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成订单" id="0dc665db-44dd-40aa-8cee-60c62b508dec"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成订单" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/bookOrderV520/apply</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "loginId": "${#Project#regPhone}",  
    "usersIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}", 
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "expendField": "AID3GIN,,20141106111025214,CD151D66A45D4FE2A8949F445796D2A1",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.74",
    "subTerminalType": "i",
    "orderBean": {
        "firstSegId": "${订单信息#segId}",
        "ifInsWF": "0",
        "secondChildInfo": [],
        "thirdAdultInfo": [],
        "linkMan": {
            "linkmanMobile": "${#Project#regPhone}",
            "linkmanAddr": "",
            "linkmanName": "springTest",
            "linkmanWorkTel": "${#Project#regPhone}",
            "linkmanPrivateTel": "${#Project#regPhone}",
            "linkmanEmail": "${#Project#emailAddress}",
            "linkmanZip": ""
        },
        "thirdInfantInfo": [],
        "secondSegAdultCabin": "",
        "goFlightDate": "${订单信息#flightDate}",
        "infantNum": "0",
        "thirdSegId": "0",
        "childNum": "0",
        "firstInfantInfo": [],
        "secondSegId": "0",
        "saleTypeDetail": "3",
        "adultNum": "1",
        "lcType": "N",
        "ifPrint": "0",
        "firstChildInfo": [],
        "ifMail": "0",
        "thirdChildInfo": [],
        "ifYhPolicy": "Y",
        "disclaimerBean": [],
        "ifDelivery": "0",
        "ifLegal": "1",
        "firstSegAdultCabin": "${订单信息#cabinName}",
        "paramBeanOfManageDeliveryAddress": {},
        "secondInfantInfo": [],
        "thirdSegAdultCabin": "",
        "retFlightDate": "",
        "secondAdultInfo": [],
        "firstAdultInfo": [
            {
                "isNational": "0",
                "age": "0",
                "countryOfIssue": "",
                "passportExpireDate": "",
                "tktCrewType": "0",
                "familyName": "soap${随机生成乘机人姓名#result}",
                "cardTypeId": "2",
                "userCustId": "new",
                "birthdate": "1983-11-06",
                "insuranceInfo": [
                    {
                        "insurNum": "1",
                        "insurBeneType": "0",
                        "insurProdId": "53",
                        "insurCompId": "3"
                    }
                ],
                "gender": "0",
                "xprodInfo": [],
                "nationality": "",
                "cardNo": "${=(Integer)Math.random()*99999999}",
                "phoneNo": "18915489632"
            }
        ]
    },
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="a5033b56-fe3e-489b-ab95-a9da35cca940"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="4870b11c-d809-4c55-b265-d1394218a52b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="bb3dac6d-2bf6-4257-8737-6e4731656393"><con:configuration><path>declare namespace ns1='http://192.168.210.52/ECommercePlatform/m/bookOrderV520/apply';
//ns1:ifSuccess</path><content>Y</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo" id="b07bbf78-9181-4ad0-9952-f96d2508c72c"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
def payMoney=response.payMoney
if (null != orderNo&amp;&amp;""!=orderNo){
	props.setPropertyValue("orderNo",response.orderNo.toString())
	props.setPropertyValue("payMoney",response.payMoney.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表" id="220b3d4a-e45b-4ea3-a5dd-496192208754"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${订单信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",

    "userId": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}", 
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7ac7b447-87ff-49a1-8f72-0327d538312a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="223cf094-08ca-4ae1-b1fc-b0063135d2c8"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="aed1c8a7-d0ab-44c7-b8f0-16581bd27c3f"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录支付信息" id="0c10a9bc-0ff5-4c4f-82c0-f1f203c19ef0"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def random1=(int)Math.random()*3
def subgateways=response.gatewayList[random1].subGateways
def random2=(int)Math.random()*subgateways.size()
def gateway=subgateways[random2]

if (null != gateway){
	props.setPropertyValue("payGate",gateway.payGate.toString())
	props.setPropertyValue("moneyClassId",gateway.moneyClassId.toString())
	props.setPropertyValue("accountsMemo",gateway.accountsMemo.toString())
	props.setPropertyValue("payGateFyRate",gateway.payGateFyRate.toString())
	props.setPropertyValue("payAccounts",gateway.payAccounts.toString())
	props.setPropertyValue("gateFlag",gateway.gateFlag.toString())
	props.setPropertyValue("subPayGateName",gateway.subPayGateName.toString())
	props.setPropertyValue("paymentUrl",gateway.paymentUrl.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="支付信息" id="69414b10-dfee-40b6-903e-704b86ac5c72"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>payGate</con:name><con:value>34</con:value></con:property><con:property><con:name>moneyClassId</con:name><con:value>0</con:value></con:property><con:property><con:name>accountsMemo</con:name><con:value/></con:property><con:property><con:name>payGateFyRate</con:name><con:value>0.0</con:value></con:property><con:property><con:name>payAccounts</con:name><con:value>2088101909164661</con:value></con:property><con:property><con:name>gateFlag</con:name><con:value>4</con:value></con:property><con:property><con:name>subPayGateName</con:name><con:value>支付宝</con:value></con:property><con:property><con:name>paymentUrl</con:name><con:value>http://192.168.210.52:8092/SpringPay/alipay/payment?action=payment&amp;terminalType=mweb&amp;userId=2100014593014646&amp;reqData=payment|MOZNTX|300.0|34|0|0|0|mweb|2088101909164661|zh_cn|300.0|none&amp;convertMoneyClassId=0</con:value></con:property><con:property><con:name>payIPS</con:name><con:value>004417190</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="生成支付流水号" id="90c53474-d5c8-49e2-a7e4-7b7899152072"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="生成支付流水号" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${支付信息#paymentUrl}</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ecf7eef7-beea-444d-b2f0-2013bf7656be"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ccce42a0-368e-464f-8065-16e7be39fbfc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询流水号" id="c4795759-8db4-41a6-80e5-67a6eb6f3ea4"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="查询流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/queryIPSId</con:endpoint><con:request>{
    "orderType": "0",
    "orderNo": "${订单信息#orderNo}",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_CN"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="01469caa-fc18-4455-b80f-7bafc4a39c9f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b32558af-f77b-43fc-b580-fb59be202b13"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="c9b03255-8c5d-48de-971c-d471e03f5ab7"><con:configuration><token>ipsId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="记录流水号" id="998504c7-feb7-4324-a88d-e425313ee432"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="记录流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordOrderIps</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dc52eca4-74ae-4a0d-b13a-9b9462bf8cb4"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fb7107b3-64f7-4e9a-b4af-c81bf548eb6b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="1e40bf77-f28f-4aa8-bacf-d7522e94ebeb"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="bb16260c-3485-40fe-a7af-fc90a9b7e146"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payIPS=response.payIPS
if (null != payIPS&amp;&amp;""!=payIPS){
	props.setPropertyValue("payIPS",payIPS.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderOrigin</con:name><con:value>${订单信息#orderOrigin}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderType</con:name><con:value>${订单信息#orderType}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMemo</con:name><con:value>${支付信息#accountsMemo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payAccount</con:name><con:value>${支付信息#payAccounts}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="模拟应答" id="ed7008f2-b49d-456a-812d-049661f988ca"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="模拟应答" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordYinda</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dddb6e49-3833-4e8b-bee6-376a7e737125"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="67abfd0d-fa92-4d20-acf5-f0a2f622ad79"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="dfa4c390-64a6-4358-b7b9-e832a5136449"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>payIPS</con:name><con:value>${支付信息#payIPS}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payStatus</con:name><con:value>1001</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>tpPayNO</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>isCredit</con:name><con:value>N</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>ccvc</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardName</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardPhone</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardType</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情" id="7596f5a9-23f3-4668-92f2-7e0f5e51f15f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="88c1dfcb-d8ab-49e2-bba1-074fe04bc0bf"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="70844784-87c9-4c24-9542-99c7e74c1bae"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2d36d028-ac83-4416-912c-5ce1b332c103"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="4f813bb2-b77d-460e-afab-f44900121747"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>25beba3b65454427</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="退票" id="a46bfee4-5e76-4c66-bec8-0caaf9c829a2"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="退票" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7855d947-6a8b-4e14-9467-ca2a146c1f0d"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a5b6efb6-690c-4c92-80c3-9a6d9ce12ccd"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="0c963d98-bc24-4f17-b0e8-e43600abd6b2"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>13222222222</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderHeadId}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>b67169a7e2f6d116f9f4babe376d9805</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>orderDishonour</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单" id="dd93be02-5581-45fc-b03b-434ef75020b9"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="cee4f946-14b3-47e1-aaad-a3bf9df14427"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a36b0590-28d6-4687-a733-f5774954e526"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="售前增值服务" id="33ce69a6-de8c-47ae-8ff5-98ff38a87b39"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="售前增值服务" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/xprodV520/queryPreSaleXprodDetail</con:endpoint><con:request>{
    "getSubProd": {
        "adultCabinName": "${订单信息#cabinName}",
        "adultTktPrice": 0,
        "channelId": 0,
        "lang": "",
        "moneyClassId": 0,
        "otherSegHeadId": 0,
        "queryXtypeRange": [],
        "saleTypeDetail": 0,
        "termId": 0,
        "thisSegHeadId": 0,
        "thisSegHeadType": 0,
        "tktType": 0,
        "userType": 0
    },
    "terminalType": "",
    "versionNo": "",
    "deviceSN": ""
}</con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="酒店预订" id="fceb70fb-ec97-40e5-b760-2dcf281e8643"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:properties/></con:testSuite><con:testSuite name="订单管理" id="8b2b5b00-ff70-4935-83ba-4fbdde768389"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="生成机票订单" searchProperties="true" disabled="true" id="a61eaf0a-b9d7-43d9-baec-1abc8d37b32f"><con:settings/><con:testStep type="groovy" name="随机生成乘机人姓名" id="0d8838f7-e76a-409e-bd8b-d8f64cec7f56"><con:settings/><con:config><script>def length=5
def str=""
for(int i=0;i&lt;length;i++){
	char c="A"
	c=(char)(c+(int)(Math.random()*26))
	str=str+c
}
return str
</script></con:config></con:testStep><con:testStep type="properties" name="订单信息" id="f48b3b37-0cc0-4f7a-aafd-c07c70dc8b6c"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>XMN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+2).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9A0000</con:value></con:property><con:property><con:name>segId</con:name><con:value>481339</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>P1</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNUN</con:value></con:property><con:property><con:name>payMoney</con:name><con:value>300.0</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338499</con:value></con:property><con:property><con:name>orderType</con:name><con:value>0${//0-机票订单,1-单独支付的辅助订单，2-航班变更申请}</con:value></con:property><con:property><con:name>orderOrigin</con:name><con:value>0${//2-mweb,3-ios，4-android，10-微信}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据" id="c1ec88a7-0745-4242-b523-9f3caacdb40e"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7abf856c-536e-4092-84be-fb3a2e061189"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="8f31b178-4d48-49a8-b557-87818f3a67a4"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="e1f9a8c3-12aa-4744-9e7f-e28709f0a24d"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息" id="2a74bf74-132d-4b0c-a000-b7e714fcc420"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	def index1=(int)Math.random()*queryList.size()
	def index2=(int)Math.random()*queryList[index1].moreCabins.listNormCabin.size()
	props.setPropertyValue("flightNo",queryList[index1].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[index1].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[index1].moreCabins.listNormCabin[index2].cabinName))
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${订单信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成订单" id="f99708fa-b3d8-4a94-968d-9d7a248ec964"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成订单" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/bookOrderV520/apply</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "loginId": "${#Project#regPhone}",  
    "usersIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}", 
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "expendField": "AID3GIN,,20141106111025214,CD151D66A45D4FE2A8949F445796D2A1",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.74",
    "subTerminalType": "i",
    "orderBean": {
        "firstSegId": "${订单信息#segId}",
        "ifInsWF": "0",
        "secondChildInfo": [],
        "thirdAdultInfo": [],
        "linkMan": {
            "linkmanMobile": "${#Project#regPhone}",
            "linkmanAddr": "",
            "linkmanName": "springTest",
            "linkmanWorkTel": "${#Project#regPhone}",
            "linkmanPrivateTel": "${#Project#regPhone}",
            "linkmanEmail": "${#Project#emailAddress}",
            "linkmanZip": ""
        },
        "thirdInfantInfo": [],
        "secondSegAdultCabin": "",
        "goFlightDate": "${订单信息#flightDate}",
        "infantNum": "0",
        "thirdSegId": "0",
        "childNum": "0",
        "firstInfantInfo": [],
        "secondSegId": "0",
        "saleTypeDetail": "3",
        "adultNum": "1",
        "lcType": "N",
        "ifPrint": "0",
        "firstChildInfo": [],
        "ifMail": "0",
        "thirdChildInfo": [],
        "ifYhPolicy": "Y",
        "disclaimerBean": [],
        "ifDelivery": "0",
        "ifLegal": "1",
        "firstSegAdultCabin": "${订单信息#cabinName}",
        "paramBeanOfManageDeliveryAddress": {},
        "secondInfantInfo": [],
        "thirdSegAdultCabin": "",
        "retFlightDate": "",
        "secondAdultInfo": [],
        "firstAdultInfo": [
            {
                "isNational": "0",
                "age": "0",
                "countryOfIssue": "",
                "passportExpireDate": "",
                "tktCrewType": "0",
                "familyName": "soap${随机生成乘机人姓名#result}",
                "cardTypeId": "2",
                "userCustId": "new",
                "birthdate": "1983-11-06",
                "insuranceInfo": [
                    {
                        "insurNum": "1",
                        "insurBeneType": "0",
                        "insurProdId": "53",
                        "insurCompId": "3"
                    }
                ],
                "gender": "0",
                "xprodInfo": [],
                "nationality": "",
                "cardNo": "${=(Integer)Math.random()*99999999}",
                "phoneNo": "18915489632"
            }
        ]
    },
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="f882a688-39a8-4283-9fa0-8557aebaeaa8"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ace3418f-e649-462c-8a79-eff94754af4b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match" id="6959b5a9-5216-4d56-99c3-82c0ea15c45b"><con:configuration><path>declare namespace ns1='http://192.168.210.52/ECommercePlatform/m/bookOrderV520/apply';
//ns1:ifSuccess</path><content>Y</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo" id="d5a6864f-97fb-4616-89f9-131d07ee1155"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
def payMoney=response.payMoney
if (null != orderNo&amp;&amp;""!=orderNo){
	props.setPropertyValue("orderNo",response.orderNo.toString())
	context.testCase.setPropertyValue("orderNo",response.orderNo.toString())
	props.setPropertyValue("payMoney",response.payMoney.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表" id="73617f3d-78d3-4599-87e2-c83ac4b79563"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${订单信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",

    "userId": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="0dd95c30-1cfe-4bd2-b940-55608217ca39"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b379d9ae-d653-443a-81c3-c03bd60eddf3"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="dc1e1138-5483-4743-9c02-f98778240062"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录支付信息" id="089104e8-f760-4098-b592-075360f99efe"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def random1=(int)Math.random()*3
def subgateways=response.gatewayList[random1].subGateways
def random2=(int)Math.random()*subgateways.size()
def gateway=subgateways[random2]

if (null != gateway){
	props.setPropertyValue("payGate",gateway.payGate.toString())
	props.setPropertyValue("moneyClassId",gateway.moneyClassId.toString())
	props.setPropertyValue("accountsMemo",gateway.accountsMemo.toString())
	props.setPropertyValue("payGateFyRate",gateway.payGateFyRate.toString())
	props.setPropertyValue("payAccounts",gateway.payAccounts.toString())
	props.setPropertyValue("gateFlag",gateway.gateFlag.toString())
	props.setPropertyValue("subPayGateName",gateway.subPayGateName.toString())
	props.setPropertyValue("paymentUrl",gateway.paymentUrl.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="支付信息" id="08c711d7-f304-4594-87c3-551ef7007fb7"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>payGate</con:name><con:value>29</con:value></con:property><con:property><con:name>moneyClassId</con:name><con:value>0</con:value></con:property><con:property><con:name>accountsMemo</con:name><con:value/></con:property><con:property><con:name>payGateFyRate</con:name><con:value>0.0</con:value></con:property><con:property><con:name>payAccounts</con:name><con:value>10001488654</con:value></con:property><con:property><con:name>gateFlag</con:name><con:value>1</con:value></con:property><con:property><con:name>subPayGateName</con:name><con:value>中信银行</con:value></con:property><con:property><con:name>paymentUrl</con:name><con:value><![CDATA[http://192.168.210.52:8092/SpringPay/yeePay/remoteInitPayment?action=remoteInitPayment&moneyClassCode=CNY&isPwdPay=1&isCallBack=0&inputItem=123456&terminalType=mweb&userId=2100014593014646&reqData=payment|MOZNTY|600.0|29|0|0|0|mweb|10001488654|zh_cn|600.0|中信银行|ECITICCREDIT|none&convertMoneyClassId=0]]></con:value></con:property><con:property><con:name>payIPS</con:name><con:value>2014120904998526</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="生成支付流水号" id="2cb96a95-1842-4bf3-868d-8721d7fc5a86"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="生成支付流水号" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${支付信息#paymentUrl}</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="f244616a-94e5-4de9-8198-2d993394022c"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="056aa8b2-7f46-4a57-833c-bfd07663a5a0"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询流水号" id="3ff25cd5-6bae-4b8d-ad44-ea461aa139ce"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="查询流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/queryIPSId</con:endpoint><con:request>{
    "orderType": "0",
    "orderNo": "${订单信息#orderNo}",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_CN"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="35f9cd51-94e4-4f67-a775-ac28b8f835b3"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="cb596e38-8efb-415c-b1fb-d89cbb245422"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="3b5263a3-a684-4e68-a000-7cd755a568e6"><con:configuration><token>ipsId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="记录流水号" id="ea9b8cb3-543a-49a0-a4ba-a9f07d552738"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="记录流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordOrderIps</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="1c7171ba-76f6-4065-9bc4-2ba052997600"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="c4b05f76-0eb4-4a00-b751-bbb05884b141"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="50351282-c0ef-4023-9297-da6c0ac39e77"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="94b5b0be-c95d-44b8-a129-891b9b95ab0c"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payIPS=response.payIPS
if (null != payIPS&amp;&amp;""!=payIPS){
	props.setPropertyValue("payIPS",payIPS.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderOrigin</con:name><con:value>${订单信息#orderOrigin}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderType</con:name><con:value>${订单信息#orderType}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMemo</con:name><con:value>${支付信息#accountsMemo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payAccount</con:name><con:value>${支付信息#payAccounts}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="模拟应答" id="560d8480-d5d5-413a-bf9f-ac7b3f0fd506"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="模拟应答" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordYinda</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="397a7893-a9b8-4b01-8c02-6c98682e7114"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="3f4ac130-5525-476b-86cd-cf4eef93496c"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="9e82996b-7520-4125-84e2-6008d9855edd"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>payIPS</con:name><con:value>${支付信息#payIPS}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payStatus</con:name><con:value>1001</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>tpPayNO</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>isCredit</con:name><con:value>N</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>ccvc</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardName</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardPhone</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardType</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情" id="5f9b1f4a-d0cc-4249-ab9e-f7e0573e902a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="0a3c29d4-f7c1-4e7a-8f27-82fd162b353b"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="87ef55ea-c100-419a-83ae-1643b4541354"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="3aeb0faf-48fe-4152-a39f-7c2b1c20d08d"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderHeadId" id="75f50457-fc5d-479c-92ec-76d64710210d"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
	context.testCase.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>25beba3b65454427</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014570215046</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNUN</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338499</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="机票订单" searchProperties="true" id="05722392-c3b6-41ff-a5e3-b4dee8adf5dc"><con:settings/><con:testStep type="calltestcase" name="生成机票订单" id="b8ae32c1-7a5f-47e9-8624-a2d9df124bef"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>9966123c-0fa4-474a-80f8-7bde22f284ff</con:targetTestCase><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNTM</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338498</con:value></con:property></con:properties><con:returnProperties><con:entry>orderNo</con:entry><con:entry>orderHeadId</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="httprequest" name="查询订单退票金额明细" id="3b124392-4994-4995-8154-ffa48a848f21"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单退票金额明细" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>queryDishonourPrices</con:value><con:style>QUERY</con:style><con:default>queryDishonourPrices</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${生成机票订单#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>25beba3b65454427</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('/${生成机票订单#orderHeadId}/1',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>50265e6ae5b3a44e92004747b2639c</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="酒店订单" searchProperties="true" id="8591ab48-2c3b-4e08-9458-46e612ba22ed"><con:settings/><con:testStep type="httprequest" name="queryHotelOrderDetail" id="55aef3ce-830b-46fa-8487-efaa7a207f2a"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="queryHotelOrderDetail" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#TestSuite#IP}:${#TestSuite#PORT}/tour3g/rest/hotelOrder/queryHotelOrderDetail</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="5ec2640e-4528-41ae-9756-beec6cfc1422"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3826607f-6102-4762-a734-dc3383100040"/><con:assertion type="Simple Contains" name="Contains" id="1e55eb10-b894-48dc-b9f1-956e890996ed"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>reservationId</con:name><con:value>20197</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>4998bce22f57a4c4bdeb516e6abe5a61</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>loginId</con:name><con:value>13818386504</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>marketingChannel</con:name><con:value>7</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="queryHotelOrderList" id="43253fd8-49a7-4f92-86b0-cce670cb534e"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="queryHotelOrderList" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#TestSuite#IP}:${#TestSuite#PORT}/tour3g/rest/hotelOrder/queryHotelOrderList</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="3bd148dc-b8aa-4d5d-919c-5de93dbdf08a"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="84fb0b41-e29a-4f3f-9002-3e2ba74af9d4"/><con:assertion type="Simple Contains" name="Contains" id="03be015c-1699-4201-b1b3-1160b69391e5"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>4998bce22f57a4c4bdeb516e6abe5a61</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>loginId</con:name><con:value>13818386504</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>pageRange</con:name><con:value>5</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>pageNo</con:name><con:value>1</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="cancelHotelOrder" id="01b4ecef-8d42-4ee4-a257-945c8dfab50d"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="cancelHotelOrder" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#TestSuite#IP}:${#TestSuite#PORT}/tour3g/rest/hotelOrder/cancelHotelOrder</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="1f334573-f693-4f6d-95fd-683b18d0e868"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="5e0004f2-55db-4403-bd88-553825d77ebc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2660024d-cc56-4aae-8ba0-ffe3f7d01d02"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>6228c74949ab09ba1b17c4d827cc37c6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>loginId</con:name><con:value>13818386504</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderId</con:name><con:value>21071</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="queryHotelOrderDetail 1" id="c8ea9b63-ba2c-43cd-add8-ae61e257566b"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="queryHotelOrderDetail 1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#TestSuite#IP}:${#TestSuite#PORT}/tour3g/rest/hotelOrder/queryHotelOrderDetail</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="143ebbf0-f19b-4333-a7a4-03560e293ccc"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="3a874fff-bf05-4735-8b52-901e062b25dc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="e3ad2de7-6e53-4598-b717-a282611b3998"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>reservationId</con:name><con:value>21071</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>6228c74949ab09ba1b17c4d827cc37c6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>loginId</con:name><con:value>13818386504</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>marketingChannel</con:name><con:value>7</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="queryCoupon" id="952e647c-bfd6-4c5c-b5c7-36fd7f8abf5f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="queryCoupon" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#TestSuite#IP}:${#TestSuite#PORT}/tour3g/rest/coupon/queryCoupon</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="822caa5a-2866-4644-9500-e53f3117e43d"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="bda91eaf-369b-4bbc-96fb-22d08f520edd"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="f638979a-09bd-4876-a563-834a19b17256"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>4998bce22f57a4c4bdeb516e6abe5a61</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>loginId</con:name><con:value>13818386504</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>channelId</con:name><con:value>2</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>usersIdFk</con:name><con:value>2100014458614746</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>E61BDDAB-6B24-43D3-B46B-DD61895C5A76</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="在线值机" id="8e977b0e-f2a1-4d45-87c6-155eb89262ed"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="在线值机手续须知" searchProperties="true" id="ba27e72c-6c4f-4a5c-870f-271f09e7b98c"><con:settings/><con:testStep type="httprequest" name="zh_CN" id="c562aec0-d2fd-4928-8071-d4d0721c3c8f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="zh_CN" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7af80ec0-0574-4f6b-9954-66434b469b11"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="f7eebee1-6ac7-49aa-91a3-057e0d151496"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>liaojieChekIn</con:value><con:style>QUERY</con:style><con:default>liaojieChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="en_US" id="04dcc896-a507-42f5-b779-7d8fa38b24f5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="en_US" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="705af00a-dfd2-4b0e-8c19-5ba5d070b905"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="3440e668-ee2c-444f-af60-bf529d80453e"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>liaojieChekIn</con:value><con:style>QUERY</con:style><con:default>liaojieChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>en_US</con:value><con:style>QUERY</con:style><con:default>en_US</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="zh_HK" id="12d377f1-75cd-4cf5-8f56-4762851b1e68"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="zh_HK" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fa69485f-1cb3-4d13-b81f-7f1e034f79b2"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ba47b6ab-0f36-4286-90d0-70636458690a"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>liaojieChekIn</con:value><con:style>QUERY</con:style><con:default>liaojieChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>zh_HK</con:value><con:style>QUERY</con:style><con:default>zh_HK</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="ja_JP" id="6085a610-c480-464c-b00a-7d1cbf8207a1"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="ja_JP" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="6fa10acb-f0c5-4d64-80ef-8ba8067408a4"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="04318833-cd79-435e-9e85-ca6765297b18"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>liaojieChekIn</con:value><con:style>QUERY</con:style><con:default>liaojieChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>ja_JP</con:value><con:style>QUERY</con:style><con:default>ja_JP</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="关于危险物品的规定" searchProperties="true" id="968b0dc3-3756-4631-8edf-13b9d97b759a"><con:settings/><con:testStep type="httprequest" name="zh_CN" id="9c967581-02c8-4ce5-8e66-bb1b7debebc5"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="zh_CN" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="81ee0eaa-1f6b-460a-abe0-85d16562c164"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="7f02edee-a7a4-4672-94ad-35ee386eebaf"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>saveChekIn</con:value><con:style>QUERY</con:style><con:default>saveChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="en_US" id="25161275-5861-43e0-b1c6-323fd3daf16f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="en_US" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="0f1db40c-38b2-4d7b-bc1c-b9032572085b"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="278372a4-96e6-4bc3-a716-34c141e5955f"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>saveChekIn</con:value><con:style>QUERY</con:style><con:default>saveChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>en_US</con:value><con:style>QUERY</con:style><con:default>en_US</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="ja_JP" id="6cab0518-e60f-4799-a503-c60c2f9876c3"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="ja_JP" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="24481c09-2e87-4e4e-b96b-9e6d99421723"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="81813505-12cd-4867-85b7-bbaf7ddbb6ea"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>saveChekIn</con:value><con:style>QUERY</con:style><con:default>saveChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>ja_JP</con:value><con:style>QUERY</con:style><con:default>ja_JP</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="zh_HK" id="62706f41-4d62-47da-9382-c944216a7494"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="zh_HK" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/ws/queryCheckInService.ws</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="34bf066f-95f9-4bbc-96d1-9a3c4959de42"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="68f8ca18-eb82-472e-8f10-b0a409c81571"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>saveChekIn</con:value><con:style>QUERY</con:style><con:default>saveChekIn</con:default></con:parameter><con:parameter><con:name>type</con:name><con:value>zh_HK</con:value><con:style>QUERY</con:style><con:default>zh_HK</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="生成订单" searchProperties="true" id="9966123c-0fa4-474a-80f8-7bde22f284ff" disabled="true"><con:settings/><con:testStep type="groovy" name="随机生成乘机人姓名"><con:settings/><con:config><script>def length=5
def str=""
for(int i=0;i&lt;length;i++){
	char c="A"
	c=(char)(c+(int)(Math.random()*26))
	str=str+c
}
return str
</script></con:config></con:testStep><con:testStep type="properties" name="订单信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>fromCity</con:name><con:value>SHA</con:value></con:property><con:property><con:name>toCity</con:name><con:value>XMN</con:value></con:property><con:property><con:name>flightDate</con:name><con:value>${=(new Date()+2).format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9A0000</con:value></con:property><con:property><con:name>segId</con:name><con:value>481339</con:value></con:property><con:property><con:name>cabinName</con:name><con:value>U</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNUT</con:value></con:property><con:property><con:name>payMoney</con:name><con:value>650.0</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338535</con:value></con:property><con:property><con:name>orderType</con:name><con:value>0${//0-机票订单,1-单独支付的辅助订单，2-航班变更申请}</con:value></con:property><con:property><con:name>orderOrigin</con:name><con:value>0${//2-mweb,3-ios，4-android，10-微信}</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="查询航班数据"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询航班数据" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightQueryService.wr</con:endpoint><con:request>

</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>flightQueryList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录航班信息"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def queryList=response.flightQueryList
if(null != queryList){
	def index1=(int)Math.random()*queryList.size()
	def index2=(int)Math.random()*queryList[index1].moreCabins.listNormCabin.size()
	props.setPropertyValue("flightNo",queryList[index1].NO)
	props.setPropertyValue("segId",DESCrypter.decodeNew(queryList[index1].segId))
	props.setPropertyValue("cabinName",DESCrypter.decodeNew(queryList[index1].moreCabins.listNormCabin[index2].cabinName))
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryFlights</con:value><con:style>QUERY</con:style><con:default>queryFlights</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cabin</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>saleTypeDetail</con:name><con:value>4</con:value><con:style>QUERY</con:style><con:default>4</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#fromCity}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>102b2d2b384a0018</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>tctc</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeNew('${订单信息#toCity}')}</con:value><con:style>QUERY</con:style><con:default>53476c075317e47d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fd</con:name><con:value>${订单信息#flightDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>59f6dfbf7b9c1776b8cbb6f8428cffe3</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>cid</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ct</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>ft</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isnew</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>n</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成订单"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成订单" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/bookOrderV520/apply</con:endpoint><con:request>{
    "vendorId": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793",
    "userId": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}",
    "loginId": "${#Project#regPhone}",  
    "usersIdFk": "${=com.springairlines.util.DESCrypter.encode(${#Project#userId}.toString())}", 
    "deviceSNPlus": "0d1e7d1c795c83fb7819da0e90b7259c",
    "expendField": "AID3GIN,,20141106111025214,CD151D66A45D4FE2A8949F445796D2A1",
    "channelId": "-2",
    "terminalType": "i",
    "moneyClassId": "0",
    "remoteIP": "192.168.9.74",
    "subTerminalType": "i",
    "orderBean": {
        "firstSegId": "${订单信息#segId}",
        "ifInsWF": "0",
        "secondChildInfo": [],
        "thirdAdultInfo": [],
        "linkMan": {
            "linkmanMobile": "${#Project#regPhone}",
            "linkmanAddr": "",
            "linkmanName": "springTest",
            "linkmanWorkTel": "${#Project#regPhone}",
            "linkmanPrivateTel": "${#Project#regPhone}",
            "linkmanEmail": "${#Project#emailAddress}",
            "linkmanZip": ""
        },
        "thirdInfantInfo": [],
        "secondSegAdultCabin": "",
        "goFlightDate": "${订单信息#flightDate}",
        "infantNum": "0",
        "thirdSegId": "0",
        "childNum": "0",
        "firstInfantInfo": [],
        "secondSegId": "0",
        "saleTypeDetail": "3",
        "adultNum": "1",
        "lcType": "N",
        "ifPrint": "0",
        "firstChildInfo": [],
        "ifMail": "0",
        "thirdChildInfo": [],
        "ifYhPolicy": "Y",
        "disclaimerBean": [],
        "ifDelivery": "0",
        "ifLegal": "1",
        "firstSegAdultCabin": "${订单信息#cabinName}",
        "paramBeanOfManageDeliveryAddress": {},
        "secondInfantInfo": [],
        "thirdSegAdultCabin": "",
        "retFlightDate": "",
        "secondAdultInfo": [],
        "firstAdultInfo": [
            {
                "isNational": "0",
                "age": "0",
                "countryOfIssue": "",
                "passportExpireDate": "",
                "tktCrewType": "0",
                "familyName": "soap${随机生成乘机人姓名#result}",
                "cardTypeId": "2",
                "userCustId": "new",
                "birthdate": "1983-11-06",
                "insuranceInfo": [
                    {
                        "insurNum": "1",
                        "insurBeneType": "0",
                        "insurProdId": "53",
                        "insurCompId": "3"
                    }
                ],
                "gender": "0",
                "xprodInfo": [],
                "nationality": "",
                "cardNo": "${=(Integer)Math.random()*99999999}",
                "phoneNo": "18915489632"
            }
        ]
    },
    "versionNo": "5.2.0",
    "lang": "zh_CN",
    "custId": "${#Project#custId}",
    "deviceSN": "2040DD56-ADD0-42B8-B7B6-7B2F3627C793"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="XPath Match" name="XPath Match"><con:configuration><path>declare namespace ns1='http://192.168.210.52/ECommercePlatform/m/bookOrderV520/apply';
//ns1:ifSuccess</path><content>Y</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
def payMoney=response.payMoney
if (null != orderNo&amp;&amp;""!=orderNo){
	props.setPropertyValue("orderNo",response.orderNo.toString())
	context.testCase.setPropertyValue("orderNo",response.orderNo.toString())
	props.setPropertyValue("payMoney",response.payMoney.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${订单信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",
    "userId": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录支付信息"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def random1=(int)Math.random()*3
def subgateways=response.gatewayList[random1].subGateways
def random2=(int)Math.random()*subgateways.size()
def gateway=subgateways[random2]

if (null != gateway){
	props.setPropertyValue("payGate",gateway.payGate.toString())
	props.setPropertyValue("moneyClassId",gateway.moneyClassId.toString())
	props.setPropertyValue("accountsMemo",gateway.accountsMemo.toString())
	props.setPropertyValue("payGateFyRate",gateway.payGateFyRate.toString())
	props.setPropertyValue("payAccounts",gateway.payAccounts.toString())
	props.setPropertyValue("gateFlag",gateway.gateFlag.toString())
	props.setPropertyValue("subPayGateName",gateway.subPayGateName.toString())
	props.setPropertyValue("paymentUrl",gateway.paymentUrl.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="支付信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>payGate</con:name><con:value>11</con:value></con:property><con:property><con:name>moneyClassId</con:name><con:value>0</con:value></con:property><con:property><con:name>accountsMemo</con:name><con:value/></con:property><con:property><con:name>payGateFyRate</con:name><con:value>0.0</con:value></con:property><con:property><con:name>payAccounts</con:name><con:value>105290045112144</con:value></con:property><con:property><con:name>gateFlag</con:name><con:value>4</con:value></con:property><con:property><con:name>subPayGateName</con:name><con:value>建行直连</con:value></con:property><con:property><con:name>paymentUrl</con:name><con:value><![CDATA[http://192.168.210.52:8092/SpringPay/ccb/localPayment?action=localPayment&isPwdPay=0&isCallBack=0&bankInput=123&terminalType=mweb&userId=2100014593014646&reqData=payment|MOZNUT|650.0|11|0|0|0|mweb|105290045112144|zh_cn|650.0|建行直连|null|none&convertMoneyClassId=0]]></con:value></con:property><con:property><con:name>payIPS</con:name><con:value>004417196</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="生成支付流水号"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="生成支付流水号" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${支付信息#paymentUrl}</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询流水号"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="查询流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/queryIPSId</con:endpoint><con:request>{
    "orderType": "0",
    "orderNo": "${订单信息#orderNo}",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}",
    "lang": "zh_CN"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>ipsId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="记录流水号"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="记录流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordOrderIps</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payIPS=response.payIPS
if (null != payIPS&amp;&amp;""!=payIPS){
	props.setPropertyValue("payIPS",payIPS.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderOrigin</con:name><con:value>${订单信息#orderOrigin}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderType</con:name><con:value>${订单信息#orderType}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMemo</con:name><con:value>${支付信息#accountsMemo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payAccount</con:name><con:value>${支付信息#payAccounts}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="模拟应答"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="模拟应答" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordYinda</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>payIPS</con:name><con:value>${支付信息#payIPS}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payStatus</con:name><con:value>1001</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>tpPayNO</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>isCredit</con:name><con:value>N</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>ccvc</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardName</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardPhone</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardType</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderHeadId"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
	context.testCase.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>25beba3b65454427</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNUT</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338535</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="登录值机" searchProperties="true" id="db7c0bd2-de17-4c38-b55d-6b053148a982" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="calltestcase" name="生成订单"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>9966123c-0fa4-474a-80f8-7bde22f284ff</con:targetTestCase><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNUT</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338535</con:value></con:property></con:properties><con:returnProperties><con:entry>orderNo</con:entry><con:entry>orderHeadId</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="httprequest" name="登录值机"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="登录值机" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/loginUserCheckIn/query</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderHeadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${生成订单#orderHeadId}')}</con:value><con:style>QUERY</con:style><con:default>jEpI7jNvGWfKKwYfDZf6ww==</con:default></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${生成订单#orderNo}')}</con:value><con:style>QUERY</con:style><con:default>VQUjjBK64E8=</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>6228c74949ab09ba1b17c4d827cc37c6</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>6228c74949ab09ba1b17c4d827cc37c6</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="退票"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="退票" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderDishonour</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>13222222222</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>orderDishonour</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${生成订单#orderHeadId}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>b67169a7e2f6d116f9f4babe376d9805</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderCancel</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${生成订单#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="按证件号值机" searchProperties="true" id="519375c4-8ba0-4b06-81d9-e4b1a7369af6"><con:settings/><con:testStep type="calltestcase" name="生成订单"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>9966123c-0fa4-474a-80f8-7bde22f284ff</con:targetTestCase><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNRD</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338432</con:value></con:property></con:properties><con:returnProperties><con:entry>orderNo</con:entry><con:entry>orderHeadId</con:entry></con:returnProperties><con:runMode>SINGLETON_AND_WAIT</con:runMode></con:config></con:testStep><con:testStep type="httprequest" name="查询可值机机票"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询可值机机票" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/canCheckInUser/query</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录机票信息"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;
def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("值机输入信息")
//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def list=response.list
if (null != list &amp;&amp; list.size()>0){
	def cardNo=list[0].cardNo.toString()
	def familyName=list[0].familyName.toString()
	def orderNo=list[0].orderNo.toString()
	def flyDate=list[0].flyDateCHN.toString()
	def flightNo=list[0].flightNo.toString()
	props.setPropertyValue("cardNo",DESCrypter.decode(cardNo))
	props.setPropertyValue("familyName",familyName)
	props.setPropertyValue("orderNo",DESCrypter.decode(orderNo))
	props.setPropertyValue("flyDate",flyDate.split(" ")[0])
     props.setPropertyValue("flightNo",flightNo)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014524214746</con:default></con:parameter><con:parameter><con:name>pageRange</con:name><con:value>5</con:value><con:style>QUERY</con:style><con:default>5</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>6228c74949ab09ba1b17c4d827cc37c6</con:value><con:style>QUERY</con:style><con:default>6228c74949ab09ba1b17c4d827cc37c6</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>pageNo</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="properties" name="值机输入信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>cardNo</con:name><con:value>89815645</con:value></con:property><con:property><con:name>familyName</con:name><con:value>SOAPPAKXR</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>MOZNRD</con:value></con:property><con:property><con:name>flyDate</con:name><con:value>2014-12-11</con:value></con:property><con:property><con:name>flightNo</con:name><con:value>9A0001</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="按证件号值机"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="按证件号值机" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/notLoginCheckIn/query</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>flightNo</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${值机输入信息#flightNo}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>G5Qsp0UEeOc=</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>flightDate</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${值机输入信息#flyDate}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>Ym7YFZM8JGAhkTcDpPmJPA==</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>familyName</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${值机输入信息#familyName}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>quYPzaMPAYA=</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>cardNo</con:name><con:value>${=com.springairlines.util.DESCrypter.encode('${值机输入信息#cardNo}')}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>llJPnB5gy8Ym0RF6z0db2g==</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>6228c74949ab09ba1b17c4d827cc37c6</con:value><con:style>QUERY</con:style><con:default>6228c74949ab09ba1b17c4d827cc37c6</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.9.97</con:value><con:style>QUERY</con:style><con:default>192.168.9.97</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.6</con:value><con:style>QUERY</con:style><con:default>5.1.6</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>82360ACA-9751-4F6D-9CDC-3676E701B783</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="退票"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="退票" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderDishonour</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>13222222222</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>orderDishonour</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${生成订单#orderHeadId}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:default>b67169a7e2f6d116f9f4babe376d9805</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderCancel</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13233233206</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${生成订单#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="用车"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="预订_查询_取消" searchProperties="true" id="22fcd58e-53e2-4ff9-973a-16b3c45a7740" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="properties" name="订车信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>validateCode</con:name><con:value>532823</con:value></con:property><con:property><con:name>addressFrom</con:name><con:value>上海虹桥机场</con:value></con:property><con:property><con:name>addressTo</con:name><con:value>上海浦东国际机场</con:value></con:property><con:property><con:name>cityId</con:name><con:value>289</con:value></con:property><con:property><con:name>fromLongitude</con:name><con:value>121.35260200978</con:value></con:property><con:property><con:name>fromLatitude</con:name><con:value>31.199987572139</con:value></con:property><con:property><con:name>reserveDate</con:name><con:value>${=(new Date()+1).format("yyyy-MM-dd hh:mm:ss")}</con:value></con:property><con:property><con:name>orderNo</con:name><con:value>20141209003538</con:value></con:property><con:property><con:name>orderId</con:name><con:value>3412</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="选择出发地址"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="选择出发地址" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr?action=getAddressByBaiduMap</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"message":"ok"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录地址"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订车信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def result=response.result
def size=result.size()
if (null != result&amp;&amp;size>0){
	def randomIndex=(int)Math.random()*size
	props.setPropertyValue("addressFrom",result[randomIndex].name.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getAddressByBaiduMap</con:value><con:style>QUERY</con:style><con:default>getAddressByBaiduMap</con:default></con:parameter><con:parameter><con:name>query</con:name><con:value>虹桥</con:value><con:style>QUERY</con:style><con:default>我的位置</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014570215046</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="选择目的地址"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="选择目的地址" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr?action=getAddressByBaiduMap</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"message":"ok"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录地址"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订车信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def result=response.result
def size=result.size()
if (null != result&amp;&amp;size>0){
	def randomIndex=(int)Math.random()*size
	props.setPropertyValue("addressTo",result[randomIndex].name.toString())
	props.setPropertyValue("cityId",result[randomIndex].cityid.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getAddressByBaiduMap</con:value><con:style>QUERY</con:style><con:default>getAddressByBaiduMap</con:default></con:parameter><con:parameter><con:name>query</con:name><con:value>浦东</con:value><con:style>QUERY</con:style><con:default>我的位置</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014570215046</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="地址换成经纬度"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="地址换成经纬度" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"status":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录经纬度"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订车信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def result=response.result
if (null != result&amp;&amp;""!=result){
	props.setPropertyValue("fromLongitude",result.location.lng.toString())
	props.setPropertyValue("fromLatitude",result.location.lat.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getLatLngByBaiduMapForAddress</con:value><con:style>QUERY</con:style><con:default>getLatLngByBaiduMapForAddress</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>address</con:name><con:value>${订车信息#addressFrom}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>上海市长宁区</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="经纬度换成地址"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="经纬度换成地址" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"status":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getAddressByBaiduMapForLatLng</con:value><con:style>QUERY</con:style><con:default>getAddressByBaiduMapForLatLng</con:default></con:parameter><con:parameter><con:name>location</con:name><con:value>30.698804,104.075354</con:value><con:style>QUERY</con:style><con:default>30.698804,104.075354</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>pois</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="获取优惠活动"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="获取优惠活动" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>paraKey</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>isDisplay</con:value><con:style>QUERY</con:style><con:default>isDisplay</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC55</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC55</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="发送预约验证码"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="发送预约验证码" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>action</con:name><con:value>getValidateCode</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>getValidateCode</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>phoneNo</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>13233233206</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>flag</con:name><con:value>2</con:value><con:style>QUERY</con:style><con:default>2</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>remoteIp</con:name><con:value>fe80::5054:ff:fe12:3456%eth0</con:value><con:style>QUERY</con:style><con:default>fe80::5054:ff:fe12:3456%eth0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>21000145702150</con:value><con:style>QUERY</con:style><con:default>21000145702150</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="groovy" name="查询数据库获取验证码"><con:settings/><con:config><script>import groovy.sql.Sql

def db_ip="192.168.210.41"
def db_port="1521"
def db_sid="spring"
def db_name="cqsale"
def db_pwd="cqsales"
def props=testRunner.testCase.getTestStepByName("订车信息")
def phone=context.expand('${#Project#regPhone}')

def sqlStr="select * from TB_SMS_DOWN where mobile = '${phone}'  order by CREATE_TIME desc"
def sql=Sql.newInstance("jdbc:oracle:thin:@${db_ip}:${db_port}:${db_sid}",db_name,db_pwd,"oracle.jdbc.driver.OracleDriver")
def row=sql.firstRow(sqlStr)
if(null != row){
	def content = row.CONTENT
     def index=content.indexOf("验证码为：")
     if(index != -1){
     	props.setPropertyValue("validateCode",content.substring(index+5,index+11))
     }  
}else{
	return "没有收到短信验证码"
}
</script></con:config></con:testStep><con:testStep type="httprequest" name="validate验证码"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="validate验证码" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>action</con:name><con:value>checkValidateCode</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>checkValidateCode</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>phoneNo</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>18721825279</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>validateCode</con:name><con:value>${订车信息#validateCode}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>930179</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>i</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="预订下单"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="预订下单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderNo"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订车信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def orderNo=response.orderNo
if (null != orderNo&amp;&amp;orderNo!=""){
	props.setPropertyValue("orderNo",orderNo.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>reserveTaxiNoValidate</con:value><con:style>QUERY</con:style><con:default>reserveTaxiNoValidate</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>cityId</con:name><con:value>${订车信息#cityId}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>addressFrom</con:name><con:value>${订车信息#addressFrom}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>四川省成都市金牛区北站西一巷13号</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>addressTo</con:name><con:value>${订车信息#addressTo}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>上海浦东机场二号航站楼</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>name</con:name><con:value>打车测试</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>ddd</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fromLongitude</con:name><con:value>${订车信息#fromLongitude}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>104.07527618373</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>fromLatitude</con:name><con:value>${订车信息#fromLatitude}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>30.69861686118</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>reserveDate</con:name><con:value>${订车信息#reserveDate}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2014-06-18 14:11:57</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isAirPort</con:name><con:value>5</con:value><con:style>QUERY</con:style><con:default>5</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>usersIdFk</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014436313446</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014436313446</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>phoneNo</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>18721825279</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>i</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>i</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>zh_CN</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>192.168.234.128</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>reserveIp</con:name><con:value>192.168.234.129</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查询订单"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderId"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订车信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def detaliList=response.detaliList
if (null != detaliList&amp;&amp;detaliList.size()>0){
	for(order in detaliList){
		log.info order
		def flag=order.flag
		log.info flag
		if(flag=="0"||flag=="1"){
			props.setPropertyValue("orderId",order.id.toString())
			break
		}
	}
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryReserveTaxiRecord</con:value><con:style>QUERY</con:style><con:default>queryReserveTaxiRecord</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:default>13818861164</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014462014946</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>usersIdFk</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014462014946</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>phoneNo</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>3600d8c5793c4eed908a384770808645jiange</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>i</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>pageSize</con:name><con:value>8</con:value><con:style>QUERY</con:style><con:default>8</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>pageIndex</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>5.0.0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>192.168.234.128</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>cancelReserveTaxi</con:value><con:style>QUERY</con:style><con:default>cancelReserveTaxi</con:default></con:parameter><con:parameter><con:name>id</con:name><con:value>${订车信息#orderId}</con:value><con:style>QUERY</con:style><con:default>3205</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${#Project#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014462014946</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>phoneNo</con:name><con:value>${#Project#regPhone}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>cancelIp</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>5.0.0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>i</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>-2</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="辅助功能" searchProperties="true" id="3f4a25c3-8511-4177-8b8f-b01bbe8de271"><con:settings/><con:testStep type="properties" name="相关变量"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>keyWords</con:name><con:value>虹桥火车站</con:value></con:property><con:property><con:name>address</con:name><con:value>虹桥火车站附近酒店</con:value></con:property><con:property><con:name>Longitude</con:name><con:value>121.33414012477</con:value></con:property><con:property><con:name>Latitude</con:name><con:value>31.192377059256</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="根据关键字查询地址"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="根据关键字查询地址" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"message":"ok"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录地址"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("相关变量")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def result=response.result
def size=result.size()
if (null != result&amp;&amp;size>0){
	def randomIndex=(int)Math.random()*size
	log.info result[randomIndex].name.toString()
	props.setPropertyValue("address",result[randomIndex].name.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getAddressByBaiduMap</con:value><con:style>QUERY</con:style><con:default>getAddressByBaiduMap</con:default></con:parameter><con:parameter><con:name>query</con:name><con:value>${相关变量#keyWords}</con:value><con:style>QUERY</con:style><con:default>我的位置</con:default></con:parameter><con:parameter><con:name>userId</con:name><con:value>2100014570215046</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="地址换成经纬度"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="地址换成经纬度" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"status":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录经纬度"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("相关变量")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def result=response.result
if (null != result&amp;&amp;""!=result){
	props.setPropertyValue("Longitude",result.location.lng.toString())
	props.setPropertyValue("Latitude",result.location.lat.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getLatLngByBaiduMapForAddress</con:value><con:style>QUERY</con:style><con:default>getLatLngByBaiduMapForAddress</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>address</con:name><con:value>${相关变量#address}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>上海市长宁区</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="经纬度换成地址"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="经纬度换成地址" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/searchAddressList.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"status":0</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getAddressByBaiduMapForLatLng</con:value><con:style>QUERY</con:style><con:default>getAddressByBaiduMapForLatLng</con:default></con:parameter><con:parameter><con:name>location</con:name><con:value>${相关变量#Latitude},${相关变量#Longitude}</con:value><con:style>QUERY</con:style><con:default>30.698804,104.075354</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>pois</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>0</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="获取优惠活动"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="获取优惠活动" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/bookTaxi.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>paraKey</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>isDisplay</con:value><con:style>QUERY</con:style><con:default>isDisplay</con:default></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>f9a10f1db8c196f72fa05ca1caea9931</con:value><con:style>QUERY</con:style><con:default>f9a10f1db8c196f72fa05ca1caea9931</con:default></con:parameter><con:parameter><con:name>channelId</con:name><con:value>-2</con:value><con:style>QUERY</con:style><con:default>-2</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>remoteIP</con:name><con:value>192.168.234.128</con:value><con:style>QUERY</con:style><con:default>192.168.234.128</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>i</con:value><con:style>QUERY</con:style><con:default>i</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.0.0</con:value><con:style>QUERY</con:style><con:default>5.0.0</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>vendorId</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC5</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC55</con:value><con:style>QUERY</con:style><con:default>7F33E4DE-AC3D-46F0-AD44-EFD82EFF7FC55</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="其它"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="航班动态" searchProperties="true" id="18ff1a3d-fe1c-43ff-b8bb-2c2d33107e17"><con:settings/><con:testStep type="httprequest" name="按城市查询"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="按城市查询" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightDynamic.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"statusCode":"Y</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getFlightDynamic</con:value><con:style>QUERY</con:style><con:default>getFlightDynamic</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>desCity</con:name><con:value>广州</con:value><con:style>QUERY</con:style><con:default>广州</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>depCity</con:name><con:value>上海虹桥</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>上海虹桥</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="按航班号查询"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="按航班号查询" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightDynamic.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getFlightDynamic</con:value><con:style>QUERY</con:style><con:default>getFlightDynamic</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>flightNo</con:name><con:value>9C8835</con:value><con:style>QUERY</con:style><con:default>9C8835</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="查看关注航班" disabled="true"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查看关注航班" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightDynamic.wr</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>getFlightDynamicBatch</con:value><con:style>QUERY</con:style><con:default>getFlightDynamicBatch</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>flightNo</con:name><con:value>9C8835</con:value><con:style>QUERY</con:style><con:default>9C8835</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="机场助手" searchProperties="true" id="617ced5d-81f9-455b-940e-1998588e64fb"><con:settings/><con:testStep type="httprequest" name="获取航站楼"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="获取航站楼" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getTerminal</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="航站楼入驻航空公司"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="航站楼入驻航空公司" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getAirLine</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="机场交通"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="机场交通" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getTraffic</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="机场交通明细"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="机场交通明细" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getTrafficDetail?terId=66&amp;trafficTypeId=27&amp;airPortId=143&amp;isHtmlContent=1&amp;trafficId=99</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="机场常用电话"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="机场常用电话" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getPhoneList</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="住宿购物类型"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="住宿购物类型" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getShopAndHotelType</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="商店列表"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="商店列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getShopAndHotelList</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>typeId</con:name><con:value>35</con:value><con:style>QUERY</con:style><con:default>35</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="机场设施"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="机场设施" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getService</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>serviceType</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="机场设施详情"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="机场设施详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getServiceDetailHtml?detailId=80</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="机场服务"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="机场服务" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/airPort/getService</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>serviceType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terId</con:name><con:value>66</con:value><con:style>QUERY</con:style><con:default>66</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>airPortId</con:name><con:value>143</con:value><con:style>QUERY</con:style><con:default>143</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="活动专区" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="活动信息"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="活动信息" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://192.168.210.52:8081/advertisement/advertisement.do?action=getAdvertisementByCode&amp;terminalType=g&amp;lang=zh_CN&amp;versionNo=5.1.5&amp;adTemplateCode=AD_P_006</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="最新公告" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="查询最新公告"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询最新公告" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/processSearchHotSale.wr</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>queryNewsOutputJosn</con:value><con:style>QUERY</con:style><con:default>queryNewsOutputJosn</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>loginId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>000000000000000</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="特价机票" searchProperties="true"><con:settings/><con:testStep type="httprequest" name="查询特价机票"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询特价机票" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/flightSpecial.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="4ce06e36-5625-44c5-9195-8bee9d03673a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b05edaf0-12d8-4bfb-aae7-b819f7d227a2"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2d68aaa8-6da4-4d85-90d3-cbedc492038a"><con:configuration><token>specialTicketDic</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>querySpecialCitysForAllKeys</con:value><con:style>QUERY</con:style><con:default>querySpecialCitysForAllKeys</con:default></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000000000</con:default></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite name="订单支付"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="根据订单号支付" searchProperties="true" id="e446e08c-b85f-4d27-8ca9-cd1128cbcec6"><con:settings/><con:testStep type="properties" name="订单信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>orderNo</con:name><con:value>MOZNUN</con:value></con:property><con:property><con:name>payMoney</con:name><con:value>300.0</con:value></con:property><con:property><con:name>userId</con:name><con:value>145930146</con:value></con:property><con:property><con:name>orderType</con:name><con:value>0${//0-机票订单,1-单独支付的辅助订单，2-航班变更申请}</con:value></con:property><con:property><con:name>orderOrigin</con:name><con:value>0${//2-mweb,3-ios，4-android，10-微信}</con:value></con:property><con:property><con:name>orderHeadId</con:name><con:value>74338529</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="查询userId"><con:settings/><con:config><script>import groovy.sql.Sql

//def db_ip="192.168.210.233"
//def db_sid="orcl"
//def db_name="cqsale"
//def db_pwd="cqsale"
def db_ip="192.168.210.41"
def db_port="1521"
def db_sid="spring"
def db_name="cqsale"
def db_pwd="cqsales"
def props=testRunner.testCase.getTestStepByName("订单信息")
def orderNo=props.getPropertyValue("orderNo")

def sqlStr="select CLIENT_ID from CQ_ORDER where flights_order_id = '${orderNo}'"
def sql=Sql.newInstance("jdbc:oracle:thin:@${db_ip}:${db_port}:${db_sid}",db_name,db_pwd,"oracle.jdbc.driver.OracleDriver")
def row=sql.firstRow(sqlStr)
log.info row
if(null != row){
	def userId = row.CLIENT_ID
     if(null != userId){
     	props.setPropertyValue("userId",userId.toString())
     }  
}
</script></con:config></con:testStep><con:testStep type="httprequest" name="查询订单详情"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="查询订单详情" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/wr/queryOrderDetailService.wr</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="88c1dfcb-d8ab-49e2-bba1-074fe04bc0bf"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="70844784-87c9-4c24-9542-99c7e74c1bae"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="2d36d028-ac83-4416-912c-5ce1b332c103"><con:configuration><token>"statusCode":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录orderHeadId" id="4f813bb2-b77d-460e-afab-f44900121747"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("订单信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payMoney=response.order.orderMoney
def orderHeadId=response.order.tickets[0].orderHeadId
if (null != payMoney){
	props.setPropertyValue("payMoney",payMoney.toString())
}
if (null != orderHeadId){
	props.setPropertyValue("orderHeadId",orderHeadId)
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>action</con:name><con:value>processQueryOrderDetail</con:value><con:style>QUERY</con:style><con:default>processQueryOrderDetail</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>queryInfo</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderNo}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>25beba3b65454427</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>queryType</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSNPlus</con:name><con:value>d6e5d3dc21476ef738a7cbc0688f0288</con:value><con:style>QUERY</con:style><con:default>d6e5d3dc21476ef738a7cbc0688f0288</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>00000000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>payFlag</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:default>1</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClass</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default/><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="生成支付列表"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="生成支付列表" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/paymentGateway/queryGatewayList</con:endpoint><con:request>{
    "getFlag": "2",
    "orderOrigin": "0",
    "moneyClassId": "0",
    "payOrigin": "5",
    "type": "1",
    "orderSig": "${订单信息#orderNo}",
    "orderSigFlag": "0",
    "convertMoneyClassId": "0",
    "lang": "zh_cn"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7ac7b447-87ff-49a1-8f72-0327d538312a"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="223cf094-08ca-4ae1-b1fc-b0063135d2c8"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="aed1c8a7-d0ab-44c7-b8f0-16581bd27c3f"><con:configuration><token>gatewayList</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="记录支付信息" id="0c10a9bc-0ff5-4c4f-82c0-f1f203c19ef0"><con:configuration><scriptText>import com.springairlines.util.DESCrypter;

def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def random1=(int)Math.random()*3
def subgateways=response.gatewayList[random1].subGateways
def random2=(int)Math.random()*subgateways.size()
def gateway=subgateways[random2]

if (null != gateway){
	props.setPropertyValue("payGate",gateway.payGate.toString())
	props.setPropertyValue("moneyClassId",gateway.moneyClassId.toString())
	props.setPropertyValue("accountsMemo",gateway.accountsMemo.toString())
	props.setPropertyValue("payGateFyRate",gateway.payGateFyRate.toString())
	props.setPropertyValue("payAccounts",gateway.payAccounts.toString())
	props.setPropertyValue("gateFlag",gateway.gateFlag.toString())
	props.setPropertyValue("subPayGateName",gateway.subPayGateName.toString())
	props.setPropertyValue("paymentUrl",gateway.paymentUrl.toString())
}
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="properties" name="支付信息"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>payGate</con:name><con:value>11</con:value></con:property><con:property><con:name>moneyClassId</con:name><con:value>0</con:value></con:property><con:property><con:name>accountsMemo</con:name><con:value/></con:property><con:property><con:name>payGateFyRate</con:name><con:value>0.0</con:value></con:property><con:property><con:name>payAccounts</con:name><con:value>105290045112144</con:value></con:property><con:property><con:name>gateFlag</con:name><con:value>4</con:value></con:property><con:property><con:name>subPayGateName</con:name><con:value>建行直连</con:value></con:property><con:property><con:name>paymentUrl</con:name><con:value><![CDATA[http://192.168.210.52:8092/SpringPay/ccb/localPayment?action=localPayment&isPwdPay=0&isCallBack=0&bankInput=123&terminalType=mweb&reqData=payment|MOZNUM|960.0|11|0|0|0|mweb|105290045112144|zh_cn|960.0|建行直连|null|none&convertMoneyClassId=0]]></con:value></con:property><con:property><con:name>payIPS</con:name><con:value>004417194</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="生成支付流水号"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="生成支付流水号" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${支付信息#paymentUrl}</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="ecf7eef7-beea-444d-b2f0-2013bf7656be"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="ccce42a0-368e-464f-8065-16e7be39fbfc"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="查询流水号"><con:settings/><con:config method="POST" xsi:type="con:HttpRequest" name="查询流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/queryIPSId</con:endpoint><con:request>{
    "orderType": "0",
    "orderNo": "${订单信息#orderNo}",
    "userIdFk": "${=com.springairlines.util.DESCrypter.encodeLong(${订单信息#userId}.toString())}",  
    "lang": "zh_CN"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="01469caa-fc18-4455-b80f-7bafc4a39c9f"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="b32558af-f77b-43fc-b580-fb59be202b13"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="c9b03255-8c5d-48de-971c-d471e03f5ab7"><con:configuration><token>ipsId</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="httprequest" name="记录流水号"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="记录流水号" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordOrderIps</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dc52eca4-74ae-4a0d-b13a-9b9462bf8cb4"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="fb7107b3-64f7-4e9a-b4af-c81bf548eb6b"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="1e40bf77-f28f-4aa8-bacf-d7522e94ebeb"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Script Assertion" id="bb16260c-3485-40fe-a7af-fc90a9b7e146"><con:configuration><scriptText>def slurper=new groovy.json.JsonSlurper();
def props=context.testCase.getTestStepByName("支付信息")

//解析response里json格式的内容解析为text
def response=slurper.parseText messageExchange.getResponseContent();
def payIPS=response.payIPS
if (null != payIPS&amp;&amp;""!=payIPS){
	props.setPropertyValue("payIPS",payIPS.toString())
}</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderOrigin</con:name><con:value>${订单信息#orderOrigin}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderType</con:name><con:value>${订单信息#orderType}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>orderMemo</con:name><con:value>${支付信息#accountsMemo}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payAccount</con:name><con:value>${支付信息#payAccounts}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="模拟应答"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="模拟应答" postQueryString="false" mediaType="application/x-www-form-urlencoded" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#ecAddress}/ECommercePlatform/m/payment/recordYinda</con:endpoint><con:request>{
    "lang": "zh_CN",
    "orderNo": "${订单信息#orderNo}",
    "orderMoney": "${订单信息#payMoney}",
    "moneyClassId": "${支付信息#moneyClassId}"
	"payGate": "${支付信息#payGate}",
    "orderOrigin": "${订单信息#orderOrigin}",
    "orderType": "${订单信息#orderType}",
    "orderMemo": "${支付信息#accountsMemo}"
	"payAccount": "${支付信息#payAccounts}"
}</con:request><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="dddb6e49-3833-4e8b-bee6-376a7e737125"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="67abfd0d-fa92-4d20-acf5-f0a2f622ad79"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="dfa4c390-64a6-4358-b7b9-e832a5136449"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>payIPS</con:name><con:value>${支付信息#payIPS}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payMoney</con:name><con:value>${订单信息#payMoney}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>${支付信息#moneyClassId}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payGate</con:name><con:value>${支付信息#payGate}</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>payStatus</con:name><con:value>1001</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>tpPayNO</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>isCredit</con:name><con:value>N</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>ccvc</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardName</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardPhone</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>cardType</con:name><con:value/><con:style>QUERY</con:style></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="退票" disabled="true"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="退票" postQueryString="false" mediaType="application/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="7855d947-6a8b-4e14-9467-ca2a146c1f0d"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a5b6efb6-690c-4c92-80c3-9a6d9ce12ccd"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" name="Contains" id="0c963d98-bc24-4f17-b0e8-e43600abd6b2"><con:configuration><token>"ifSuccess":"Y"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${订单信息#userId}.toString())}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>2100014573814646</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>orderheadId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeOrder('${订单信息#orderHeadId}',"g","5.1.5")}</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>b67169a7e2f6d116f9f4babe376d9805</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>method</con:name><con:value>orderDishonour</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>orderDishonour</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>channelid</con:name><con:value>1</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>000000000000000</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="httprequest" name="取消订单" disabled="true"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="取消订单" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://${#Project#v500Address}/spring3g/remote/order.do?method=orderCancel</con:endpoint><con:request/><con:assertion type="HTTP Download all resources" name="HTTP Download all resources" id="cee4f946-14b3-47e1-aaad-a3bf9df14427"/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes" id="a36b0590-28d6-4687-a733-f5774954e526"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>method</con:name><con:value>orderCancel</con:value><con:style>QUERY</con:style><con:default>orderCancel</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>orderNo</con:name><con:value>${订单信息#orderNo}</con:value><con:style>QUERY</con:style><con:default>67b48d9218d2e95d</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>userId</con:name><con:value>${=com.springairlines.util.DESCrypter.encodeLong(${订单信息#userId}.toString())}</con:value><con:style>QUERY</con:style><con:default>2100014570215046</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>terminalType</con:name><con:value>g</con:value><con:style>QUERY</con:style><con:default>g</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>versionNo</con:name><con:value>5.1.5</con:value><con:style>QUERY</con:style><con:default>5.1.5</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>moneyClassId</con:name><con:value>0</con:value><con:style>QUERY</con:style><con:default>0</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>subTerminalType</con:name><con:value>Android</con:value><con:style>QUERY</con:style><con:default>Android</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>isEmulator</con:name><con:value>y</con:value><con:style>QUERY</con:style><con:default>y</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>lang</con:name><con:value>zh_CN</con:value><con:style>QUERY</con:style><con:default>zh_CN</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>deviceSNPlus</con:name><con:value>63073839aa054a7fd3af611ce329912b</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>63073839aa054a7fd3af611ce329912b</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>deviceSN</con:name><con:value>82360ACA-9751-4F6D-9CDC-3676E701B783</con:value><con:style>QUERY</con:style><con:default>000000000</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>regPhone</con:name><con:value>99994130435</con:value></con:property><con:property><con:name>emailAddress</con:name><con:value>springTest@springTest22831238.com</con:value></con:property><con:property><con:name>regPasswd</con:name><con:value>spring001</con:value></con:property><con:property><con:name>custId</con:name><con:value>qVpEJoDTNThkArQMvWfpag==</con:value></con:property><con:property><con:name>newPasswd</con:name><con:value>spring002</con:value></con:property><con:property><con:name>userId</con:name><con:value>i+quGUt5mV1jzXoB514UKw==</con:value></con:property><con:property><con:name>imgName</con:name><con:value>userImg_06.png</con:value></con:property><con:property><con:name>userCustId</con:name><con:value>31299898</con:value></con:property><con:property><con:name>v500Address</con:name><con:value>192.168.210.52:8085</con:value></con:property><con:property><con:name>ecAddress</con:name><con:value>192.168.210.52:8092</con:value></con:property><con:property><con:name>tsAddress</con:name><con:value>192.168.9.84:8080</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>